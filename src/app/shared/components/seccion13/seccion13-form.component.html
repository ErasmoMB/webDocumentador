<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">{{ SECCION13_TEMPLATES.tituloSeccion }}</h4>
    
    <div class="form-group-section mt-lg">
      <h4 class="section-title">{{ SECCION13_TEMPLATES.labelNatalidadMortalidad }}</h4>
      
      <div class="form-group-section mt-md">
        <h4 class="section-title">{{ SECCION13_TEMPLATES.labelEditarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="parrafoSeccion13_natalidad_mortalidad_completo"
          [label]="SECCION13_TEMPLATES.labelParrafoNatalidadMortalidad"
          [hint]="SECCION13_TEMPLATES.hintParrafo"
          [rows]="4"
          [value]="obtenerTextoSeccion13NatalidadMortalidadCompleto()"
          (valueChange)="onFieldChange('parrafoSeccion13_natalidad_mortalidad_completo', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field mt-lg">
        <label class="label">{{ SECCION13_TEMPLATES.labelTituloDelCuadro }}</label>
        <input
          type="text"
          class="form-control"
          [value]="datos['cuadroTituloNatalidadMortalidad'] || obtenerTituloCuadroNatalidad()"
          (change)="onFieldChange('cuadroTituloNatalidadMortalidad', $any($event.target).value, { refresh: true })" />

        <label class="label mt-md">{{ SECCION13_TEMPLATES.labelTablaNatalidadMortalidad }}</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="natalidadMortalidadConfigSignal()"
          [columns]="columnasNatalidadMortalidad"
          [sectionId]="seccionId"
          [tablaKey]="getTablaKeyNatalidadMortalidad()"
          [showAddButton]="true"
          (tableUpdated)="onNatalidadMortalidadTableUpdated($event)">
        </app-dynamic-table>

        <label class="label mt-sm">{{ SECCION13_TEMPLATES.labelFuente }}</label>
        <input
          type="text"
          class="form-control"
          [value]="datos['cuadroFuenteNatalidadMortalidad'] || obtenerFuenteCuadroNatalidad()"
          (change)="onFieldChange('cuadroFuenteNatalidadMortalidad', $any($event.target).value, { refresh: true })" />
      </div>
    </div>

    <div class="form-group-section mt-xl">
      <h4 class="section-title">{{ SECCION13_TEMPLATES.labelMorbilidad }}</h4>
      
      <div class="form-group-section mt-md">
        <h4 class="section-title">{{ SECCION13_TEMPLATES.labelEditarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="parrafoSeccion13_morbilidad_completo"
          [label]="SECCION13_TEMPLATES.labelParrafoMorbilidad"
          [hint]="SECCION13_TEMPLATES.hintParrafo"
          [rows]="6"
          [value]="obtenerTextoSeccion13MorbilidadCompleto()"
          (valueChange)="onFieldChange('parrafoSeccion13_morbilidad_completo', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field mt-lg">
        <label class="label">{{ SECCION13_TEMPLATES.labelTituloDelCuadro }}</label>
        <input
          type="text"
          class="form-control"
          [value]="datos['cuadroTituloMorbilidad'] || obtenerTituloCuadroMorbilidad()"
          (change)="onFieldChange('cuadroTituloMorbilidad', $any($event.target).value, { refresh: true })" />

        <label class="label mt-md">{{ SECCION13_TEMPLATES.labelTablaMorbilidad }}</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="morbilidadConfigSignal()"
          [columns]="columnasMorbilidad"
          [sectionId]="seccionId"
          [tablaKey]="getTablaKeyMorbilidad()"
          [showAddButton]="true"
          (tableUpdated)="onMorbilidadTableUpdated($event)">
        </app-dynamic-table>

        <label class="label mt-sm">{{ SECCION13_TEMPLATES.labelFuente }}</label>
        <input
          type="text"
          class="form-control"
          [value]="datos['cuadroFuenteMorbilidad'] || obtenerFuenteCuadroMorbilidad()"
          (change)="onFieldChange('cuadroFuenteMorbilidad', $any($event.target).value, { refresh: true })" />
      </div>
    </div>

    <div class="form-group-section mt-xl">
      <h4 class="section-title">{{ SECCION13_TEMPLATES.labelAfiliacionSalud }}</h4>
      
      <div class="form-group-section mt-md">
        <h4 class="section-title">{{ SECCION13_TEMPLATES.labelEditarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoAfiliacionSalud"
          [label]="SECCION13_TEMPLATES.labelParrafoAfiliacionSalud"
          [hint]="SECCION13_TEMPLATES.hintParrafo"
          [rows]="3"
          [value]="obtenerTextoAfiliacionSalud()"
          (valueChange)="onFieldChange('textoAfiliacionSalud', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field mt-lg">
        <label class="label">{{ SECCION13_TEMPLATES.labelTituloDelCuadro }}</label>
        <input
          type="text"
          class="form-control"
          [value]="datos['cuadroTituloAfiliacionSalud'] || obtenerTituloCuadroAfiliacion()"
          (change)="onFieldChange('cuadroTituloAfiliacionSalud', $any($event.target).value, { refresh: true })" />

        <label class="label mt-md">{{ SECCION13_TEMPLATES.labelTablaAfiliacionSalud }}</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="afiliacionSaludConfigSignal()"
          [columns]="columnasAfiliacionSalud"
          [sectionId]="seccionId"
          [tablaKey]="getTablaKeyAfiliacionSalud()"
          [showAddButton]="false"
          (tableUpdated)="onAfiliacionSaludTableUpdated($event)">
        </app-dynamic-table>

        <label class="label mt-sm">{{ SECCION13_TEMPLATES.labelFuente }}</label>
        <input
          type="text"
          class="form-control"
          [value]="datos['cuadroFuenteAfiliacionSalud'] || obtenerFuenteCuadroAfiliacion()"
          (change)="onFieldChange('cuadroFuenteAfiliacionSalud', $any($event.target).value, { refresh: true })" />
      </div>

      <div class="form-field mt-lg">
        <label class="label">{{ SECCION13_TEMPLATES.labelFotos }}</label>
        <app-image-upload
          [fotografias]="fotografiasFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX + obtenerPrefijoGrupo()"
          [permitirMultiples]="true"
          [labelTitulo]="SECCION13_TEMPLATES.labelFotoTitulo"
          [labelFuente]="SECCION13_TEMPLATES.labelFotoFuente"
          [labelImagen]="SECCION13_TEMPLATES.labelFotoImagen"
          [placeholderTitulo]="SECCION13_TEMPLATES.placeholderFotoTitulo"
          [placeholderFuente]="SECCION13_TEMPLATES.placeholderFotoFuente"
          tituloDefault="Indicadores de Salud"
          fuenteDefault="GEADES, 2024"
          [requerido]="false"
          (fotografiasChange)="onFotografiasChange($event)">
        </app-image-upload>
      </div>
    </div>
  </div>
</div>
