<div class="seccion-formulario-content">
  <div class="form-group-section">
    <!-- TITLE -->
    <h4 class="section-title">{{ SECCION14_TEMPLATES.tituloSeccion }}</h4>

    <!-- SECTION: INTRODUCCIÓN -->
    <div class="form-group-section mt-lg">
      <h4 class="section-title">{{ SECCION14_TEMPLATES.subtituloIntro }}</h4>

      <app-paragraph-editor
        [fieldId]="'parrafoSeccion14_indicadores_educacion_intro' + obtenerPrefijo()"
        [label]="SECCION14_TEMPLATES.labelIntro"
        [hint]="SECCION14_TEMPLATES.hintIntro"
        [rows]="4"
        [value]="obtenerTextoIndicadoresEducacionIntro()"
        (valueChange)="onFieldChange('parrafoSeccion14_indicadores_educacion_intro', $event)">
      </app-paragraph-editor>
    </div>

    <!-- SECTION A: NIVEL EDUCATIVO -->
    <div class="form-group-section mt-xl">
      <h4 class="section-title">{{ SECCION14_TEMPLATES.subtituloNivelEducativo }}</h4>

      <!-- Párrafos -->
      <div class="form-group-section mt-md">
        <h4 class="section-title">{{ SECCION14_TEMPLATES.subtituloIntro }}</h4>

        <app-paragraph-editor
          [fieldId]="'textoNivelEducativo' + obtenerPrefijo()"
          [label]="SECCION14_TEMPLATES.labelNivelEducativo"
          [hint]="SECCION14_TEMPLATES.hintNivelEducativo"
          [rows]="3"
          [value]="obtenerTextoNivelEducativo()"
          (valueChange)="onFieldChange('textoNivelEducativo', $event)">
        </app-paragraph-editor>
      </div>

      <!-- Título del cuadro -->
      <div class="form-field mt-lg">
        <label class="label">{{ SECCION14_TEMPLATES.labelTituloNivelEducativo }}</label>
        <input type="text" class="form-control"
          [value]="datos['cuadroTituloNivelEducativo' + obtenerPrefijo()] || (SECCION14_TEMPLATES.tituloNivelEducativoDefault + ' – CC ' + obtenerNombreComunidadActual() + ' (2017)')"
          (change)="onFieldChange('cuadroTituloNivelEducativo', $any($event.target).value, { refresh: true })" />
      </div>

      <!-- Tabla -->
      <div class="form-field mt-lg">
        <label class="label">{{ SECCION14_TEMPLATES.labelTablaNivelEducativo }}</label>
        <app-dynamic-table
          [datos]="formDataSignal()"
          [config]="nivelEducativoConfigSignal()"
          [columns]="[
            { field: 'categoria', label: SECCION14_TEMPLATES.columnaCategoriaLabel, type: 'text', placeholder: SECCION14_TEMPLATES.placeholderCategoria },
            { field: 'casos', label: SECCION14_TEMPLATES.columnaCasosLabel, type: 'number', placeholder: SECCION14_TEMPLATES.placeholderCasos },
            { field: 'porcentaje', label: SECCION14_TEMPLATES.columnaPorcentajeLabel, type: 'text', placeholder: SECCION14_TEMPLATES.placeholderPorcentaje, readonly: true }
          ]"
          [sectionId]="seccionId"
          [tablaKey]="'nivelEducativoTabla' + obtenerPrefijo()"
          (tableUpdated)="onNivelEducativoTableUpdated($event)">
        </app-dynamic-table>
        <p class="source" style="margin-top:8px;">
          <label class="label">{{ SECCION14_TEMPLATES.labelFuenteNivelEducativo }}</label>
          <input type="text" class="form-control"
            [value]="datos['cuadroFuenteNivelEducativo' + obtenerPrefijo()] || SECCION14_TEMPLATES.fuenteNivelEducativoDefault"
            (change)="onFieldChange('cuadroFuenteNivelEducativo', $any($event.target).value, { refresh: true })" />
        </p>
      </div>

      <!-- Fotografías -->
      <div class="form-field mt-lg">
        <label class="label">{{ SECCION14_TEMPLATES.labelFotoNivelEducativo }}</label>
        <app-image-upload
          [fotografias]="fotografiasFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX"
          [permitirMultiples]="true"
          [labelTitulo]="SECCION14_TEMPLATES.labelFotoTitulo"
          [labelFuente]="SECCION14_TEMPLATES.labelFotoFuente"
          [labelImagen]="SECCION14_TEMPLATES.labelFotoImagen"
          [placeholderTitulo]="SECCION14_TEMPLATES.placeholderFotoTitulo"
          [placeholderFuente]="SECCION14_TEMPLATES.placeholderFotoFuente"
          [tituloDefault]="SECCION14_TEMPLATES.tituloFotoDefault"
          [fuenteDefault]="SECCION14_TEMPLATES.fuenteFotoDefault"
          [requerido]="false"
          (fotografiasChange)="onFotografiasChange($event)">
        </app-image-upload>
      </div>
    </div>

    <!-- SECTION B: TASA DE ANALFABETISMO -->
    <div class="form-group-section mt-xl">
      <h4 class="section-title">{{ SECCION14_TEMPLATES.subtituloTasaAnalfabetismo }}</h4>

      <!-- Párrafos -->
      <div class="form-group-section mt-md">
        <h4 class="section-title">{{ SECCION14_TEMPLATES.subtituloIntro }}</h4>

        <app-paragraph-editor
          [fieldId]="'textoTasaAnalfabetismo' + obtenerPrefijo()"
          [label]="SECCION14_TEMPLATES.labelTasaAnalfabetismo"
          [hint]="SECCION14_TEMPLATES.hintTasaAnalfabetismo"
          [rows]="2"
          [value]="obtenerTextoTasaAnalfabetismo()"
          (valueChange)="onFieldChange('textoTasaAnalfabetismo', $event)">
        </app-paragraph-editor>
      </div>

      <!-- Título del cuadro -->
      <div class="form-field mt-lg">
        <label class="label">{{ SECCION14_TEMPLATES.labelTituloTasaAnalfabetismo }}</label>
        <input type="text" class="form-control"
          [value]="datos['cuadroTituloTasaAnalfabetismo' + obtenerPrefijo()] || (SECCION14_TEMPLATES.tituloTasaAnalfabetismoDefault + ' – CC ' + obtenerNombreComunidadActual() + ' (2017)')"
          (change)="onFieldChange('cuadroTituloTasaAnalfabetismo', $any($event.target).value, { refresh: true })" />
      </div>

      <!-- Tabla -->
      <div class="form-field mt-lg">
        <label class="label">{{ SECCION14_TEMPLATES.labelTablaTasaAnalfabetismo }}</label>
        <app-dynamic-table
          [datos]="formDataSignal()"
          [config]="tasaAnalfabetismoConfigSignal()"
          [columns]="[
            { field: 'indicador', label: SECCION14_TEMPLATES.columnaIndicadorLabel, type: 'text', placeholder: SECCION14_TEMPLATES.placeholderIndicador },
            { field: 'casos', label: SECCION14_TEMPLATES.columnaCasosLabel, type: 'number', placeholder: SECCION14_TEMPLATES.placeholderCasos },
            { field: 'porcentaje', label: SECCION14_TEMPLATES.columnaPorcentajeLabel, type: 'text', placeholder: SECCION14_TEMPLATES.placeholderPorcentaje, readonly: true }
          ]"
          [sectionId]="seccionId"
          [tablaKey]="'tasaAnalfabetismoTabla' + obtenerPrefijo()"
          (tableUpdated)="onTasaAnalfabetismoTableUpdated($event)">
        </app-dynamic-table>
        <p class="source" style="margin-top:8px;">
          <label class="label">{{ SECCION14_TEMPLATES.labelFuenteTasaAnalfabetismo }}</label>
          <input type="text" class="form-control"
            [value]="datos['cuadroFuenteTasaAnalfabetismo' + obtenerPrefijo()] || SECCION14_TEMPLATES.fuenteTasaAnalfabetismoDefault"
            (change)="onFieldChange('cuadroFuenteTasaAnalfabetismo', $any($event.target).value, { refresh: true })" />
        </p>
      </div> 
    </div>
  </div>
</div>