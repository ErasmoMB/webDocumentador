<div *ngIf="!modoFormulario">
<h5>A.1.10. Indicadores de educación</h5>
<div *ngIf="datos.parrafoSeccion14_indicadores_educacion_intro; else indicadoresEducacionIntroDefault" class="text-justify" [innerHTML]="formatearParrafo(datos.parrafoSeccion14_indicadores_educacion_intro)"></div>
<ng-template #indicadoresEducacionIntroDefault>
    <p class="text-justify">La educación es un pilar fundamental para el desarrollo social y económico de una comunidad. En ese sentido, los indicadores de educación juegan un papel crucial al proporcionar una visión clara del estado actual del sistema educativo y su impacto en la población. Este apartado se centra en dos indicadores clave: el nivel educativo de la población y la tasa de analfabetismo. El análisis de estos indicadores permite comprender mejor las fortalezas y desafíos del sistema educativo local, así como diseñar estrategias efectivas para mejorar la calidad educativa y reducir las desigualdades en el acceso a la educación.</p>
</ng-template>

<p style="margin-bottom: 10px;"><strong>a. Nivel Educativo de la población</strong></p>
<p class="text-justify" *ngIf="datos.textoNivelEducativo && datos.textoNivelEducativo !== '____'">{{ datos.textoNivelEducativo }}</p>
<p class="text-justify" *ngIf="!datos.textoNivelEducativo || datos.textoNivelEducativo === '____'">En la CC <span [appDataSource]="'section'">{{ datos.grupoAISD || 'Ayroca' }}</span>, el nivel educativo alcanzado por la mayor parte de la población de 15 años a más es la primaria, pues representan el <span [appDataSource]="'automatic'">{{ getPorcentajePrimaria() }}</span>. En segundo lugar, se hallan aquellos que cuentan con secundaria (<span [appDataSource]="'automatic'">{{ getPorcentajeSecundaria() }}</span>). Por otro lado, la categoría minoritaria corresponde a aquellos con educación superior no universitaria, pues representan solamente un <span [appDataSource]="'automatic'">{{ getPorcentajeSuperiorNoUniversitaria() }}</span>.</p>

<app-table-wrapper title="Población de 15 años a más según nivel educativo alcanzado – CC {{ datos.grupoAISD || 'Ayroca' }} (2017)" sectionId="3.1.4.A.1.10">
<table class="table-container">
    <thead>
        <tr>
            <th class="table-header">Categoría</th>
            <th class="table-header">Casos</th>
            <th class="table-header">Porcentaje</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of (datos.nivelEducativoTabla || [])">
            <td class="table-cell"><span *ngIf="item.categoria && item.categoria !== '____'" [appDataSource]="'automatic'">{{ item.categoria }}</span><span *ngIf="!item.categoria || item.categoria === '____'">____</span></td>
            <td class="table-cell"><span *ngIf="item.casos !== undefined && item.casos !== '____'" [appDataSource]="'automatic'">{{ item.casos }}</span><span *ngIf="item.casos === undefined || item.casos === '____'">____</span></td>
            <td class="table-cell"><span *ngIf="item.porcentaje && item.porcentaje !== '____'" [appDataSource]="'automatic'">{{ item.porcentaje }}</span><span *ngIf="!item.porcentaje || item.porcentaje === '____'">____</span></td>
        </tr>
        <tr *ngIf="!datos.nivelEducativoTabla || datos.nivelEducativoTabla.length === 0">
            <td class="table-cell">____</td>
            <td class="table-cell">____</td>
            <td class="table-cell">____</td>
        </tr>
    </tbody>
</table>
</app-table-wrapper>
<p class="source">Fuente:<span [appDataSource]="'manual'">Censos Nacionales 2017: XII de Población, VII de Vivienda y III de Comunidades Indígenas</span></p>

<app-image-upload
    [modoVista]="true"
    [permitirMultiples]="true"
    [fotografias]="getFotografiasEducacionIndicadoresVista()"
    [sectionId]="seccionId"
    [photoPrefix]="PHOTO_PREFIX"
    [labelTitulo]="'Título'"
    [labelFuente]="'Fuente'"
    [labelImagen]="'Imagen'">
</app-image-upload>

<p style="margin-top: 20px; margin-bottom: 10px;"><strong>b. Tasa de analfabetismo</strong></p>
<p class="text-justify" *ngIf="datos.textoTasaAnalfabetismo && datos.textoTasaAnalfabetismo !== '____'">{{ datos.textoTasaAnalfabetismo }}</p>
<p class="text-justify" *ngIf="!datos.textoTasaAnalfabetismo || datos.textoTasaAnalfabetismo === '____'">En la CC <span [appDataSource]="'section'">{{ datos.grupoAISD || 'Ayroca' }}</span>, se observa que la cantidad de personas de 15 años a más que no saben leer ni escribir llegan a la cantidad de <span [appDataSource]="'automatic'">{{ getCasosAnalfabetismo() }}</span>. Esto representa una tasa de analfabetismo del <span [appDataSource]="'automatic'">{{ getTasaAnalfabetismo() }}</span> en la comunidad.</p>

<app-table-wrapper title="Tasa de analfabetismo en población de 15 años a más – CC {{ datos.grupoAISD || 'Ayroca' }} (2017)" sectionId="3.1.4.A.1.10">
<table class="table-container">
    <thead>
        <tr>
            <th class="table-header">Indicador</th>
            <th class="table-header">Casos</th>
            <th class="table-header">Porcentaje</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of (datos.tasaAnalfabetismoTabla || [])">
            <td class="table-cell"><span *ngIf="item.indicador && item.indicador !== '____'" [appDataSource]="'automatic'">{{ item.indicador }}</span><span *ngIf="!item.indicador || item.indicador === '____'">____</span></td>
            <td class="table-cell"><span *ngIf="item.casos !== undefined && item.casos !== '____'" [appDataSource]="'automatic'">{{ item.casos }}</span><span *ngIf="item.casos === undefined || item.casos === '____'">____</span></td>
            <td class="table-cell"><span *ngIf="item.porcentaje && item.porcentaje !== '____'" [appDataSource]="'automatic'">{{ item.porcentaje }}</span><span *ngIf="!item.porcentaje || item.porcentaje === '____'">____</span></td>
        </tr>
        <tr *ngIf="!datos.tasaAnalfabetismoTabla || datos.tasaAnalfabetismoTabla.length === 0">
            <td class="table-cell">____</td>
            <td class="table-cell">____</td>
            <td class="table-cell">____</td>
        </tr>
    </tbody>
</table>
</app-table-wrapper>
<p class="source">Fuente:<span [appDataSource]="'manual'">Censos Nacionales 2017: XII de Población, VII de Vivienda y III de Comunidades Indígenas</span></p>
</div>

<div *ngIf="modoFormulario" class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">A.1.10. Indicadores de educación</h4>
    
    <div class="form-group-section" style="margin-top: 20px;">
      <h4 class="section-title">Editar Párrafos</h4>
      
      <app-paragraph-editor
        fieldId="parrafoSeccion14_indicadores_educacion_intro"
        label="Introducción - Indicadores de Educación"
        hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
        [rows]="4"
        [value]="obtenerTextoSeccion14IndicadoresEducacionIntro()"
        (valueChange)="onFieldChange('parrafoSeccion14_indicadores_educacion_intro', $event)">
      </app-paragraph-editor>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">a. Nivel Educativo de la población</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoNivelEducativo"
          label="Nivel Educativo - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="3"
          [value]="obtenerTextoNivelEducativo()"
          (valueChange)="onFieldChange('textoNivelEducativo', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Tabla Nivel Educativo</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="nivelEducativoConfig"
          [columns]="[
            { field: 'categoria', label: 'Categoría', type: 'text', placeholder: 'Primaria' },
            { field: 'casos', label: 'Casos', type: 'number', placeholder: '0' },
            { field: 'porcentaje', label: 'Porcentaje', type: 'text', placeholder: '0%' }
          ]"
          [tablaKey]="'nivelEducativoTabla'"
          [totalKey]="'categoria'"
          (tableUpdated)="cdRef.detectChanges()">
        </app-dynamic-table>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Fotografías de Indicadores de Educación</label>
        <app-image-upload
          [fotografias]="fotografiasFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX"
          [permitirMultiples]="true"
          labelTitulo="Título de la fotografía"
          labelFuente="Fuente de la fotografía"
          labelImagen="Fotografía - Imagen"
          placeholderTitulo="Ej: Indicadores de educación"
          placeholderFuente="Ej: GEADES, 2024"
          tituloDefault="Indicadores de educación"
          fuenteDefault="GEADES, 2024"
          [requerido]="false"
          (fotografiasChange)="onFotografiasChange($event)">
        </app-image-upload>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">b. Tasa de analfabetismo</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoTasaAnalfabetismo"
          label="Tasa de Analfabetismo - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="2"
          [value]="obtenerTextoTasaAnalfabetismo()"
          (valueChange)="onFieldChange('textoTasaAnalfabetismo', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Tabla Tasa de Analfabetismo</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="tasaAnalfabetismoConfig"
          [columns]="[
            { field: 'indicador', label: 'Indicador', type: 'text', placeholder: 'Ej: Sabe leer y escribir' },
            { field: 'casos', label: 'Casos', type: 'number', placeholder: '0' },
            { field: 'porcentaje', label: 'Porcentaje', type: 'text', placeholder: '0%' }
          ]"
          [tablaKey]="'tasaAnalfabetismoTabla'"
          [totalKey]="'indicador'"
          (tableUpdated)="cdRef.detectChanges()">
        </app-dynamic-table>
      </div>
    </div>
  </div>
</div>

