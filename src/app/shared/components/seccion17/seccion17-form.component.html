<div class="form-group-section">
  <h4 class="section-title">{{ SECCION17_TEMPLATES.sectionTitle }}</h4>

  <!-- Párrafo IDH -->
  <div class="form-group-section mt-lg">
    <app-paragraph-editor
      [fieldId]="getFieldIdTextoIDH()"
      [label]="SECCION17_TEMPLATES.labelTextoIDH"
      [hint]="SECCION17_TEMPLATES.hintTextoIDH"
      [rows]="6"
      [value]="obtenerTextoIDH()"
      (valueChange)="textoINDH.update($event)">
    </app-paragraph-editor>
  </div>

  <!-- Título editable -->
  <div class="form-group-section mt-lg">
    <label class="label">{{ SECCION17_TEMPLATES.labelTitulo }}</label>
    <input
      type="text"
      class="form-control"
      [ngModel]="obtenerTituloIDH()"
      (ngModelChange)="tituloIDH.update($event)"
      [placeholder]="SECCION17_TEMPLATES.placeholderTitulo.replace('{COMUNIDAD}', obtenerNombreComunidadActual())">
  </div>

  <!-- Tabla IDH con estructura agrupada -->
  <app-table-wrapper [title]="''" [sectionId]="seccionId" [hideNumber]="true">
    <app-dynamic-table
      [datos]="indiceDesarrolloHumanoTablaSignal()"
      [config]="indiceDesarrolloHumanoConfigSignal()"
      [columns]="columnasIDH"
      [sectionId]="seccionId"
      [tablaKey]="getTablaKeyIDH()"
      [groupHeaders]="SECCION17_TEMPLATES.tableGroupHeaders"
      [showAddButton]="false"
      [showDeleteButton]="false"
      (tableUpdated)="onTablaActualizada($event)">
    </app-dynamic-table>
  </app-table-wrapper>

  <!-- Fuente editable -->
  <div class="form-group-section mt-lg">
    <label class="label">{{ SECCION17_TEMPLATES.labelFuente }}</label>
    <input
      type="text"
      class="form-control"
      [ngModel]="fuenteIDH.value()"
      (ngModelChange)="fuenteIDH.update($event)"
      [placeholder]="SECCION17_TEMPLATES.placeholderFuente">
  </div>

  <!-- Fotos -->
  <div class="form-field mt-lg">
    <label class="label">{{ SECCION17_TEMPLATES.labelFotografias }}</label>
    <app-image-upload
      [fotografias]="fotografiasSignal()"
      [sectionId]="seccionId"
      [photoPrefix]="photoPrefixSignal()"
      [permitirMultiples]="true"
      [labelTitulo]="SECCION17_TEMPLATES.labelTitulo"
      [labelFuente]="SECCION17_TEMPLATES.labelFuente"
      labelImagen="Fotografía - Imagen"
      [placeholderTitulo]="SECCION17_TEMPLATES.placeholderFotoTitulo"
      [placeholderFuente]="SECCION17_TEMPLATES.placeholderFotoFuente"
      [tituloDefault]="SECCION17_TEMPLATES.tituloFotoDefault"
      [fuenteDefault]="SECCION17_TEMPLATES.fuenteFotoDefault"
      [requerido]="false"
      (fotografiasChange)="onFotografiasChange($event)">
    </app-image-upload>
  </div>
</div>
