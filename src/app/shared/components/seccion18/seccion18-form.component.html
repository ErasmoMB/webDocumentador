<div class="form-group-section">
  <h4 class="section-title">{{ SECCION18_TEMPLATES.sectionTitle }}</h4>

  <div class="form-group-section mt-lg">
    <h4 class="section-title">{{ SECCION18_TEMPLATES.editParrafosTitle }}</h4>
    <app-paragraph-editor
      [fieldId]="getFieldIdTextoNBI()"
      [label]="SECCION18_TEMPLATES.labelTextoCompleto"
      [hint]="SECCION18_TEMPLATES.hintTextoCompleto"
      [rows]="6"
      [value]="obtenerTextoCompleto()"
      (valueChange)="onFieldChange('textoNecesidadesBasicasInsatisfechas', $event)">
    </app-paragraph-editor>
  </div>

  <!-- ✅ TABLA NBI CC AYROCA CON TÍTULO Y FUENTE EDITABLES -->
  <div class="form-field mt-xl">
    <label class="label">{{ SECCION18_TEMPLATES.labelTituloNbiCC }}</label>
    <input 
      type="text" 
      class="form-control"
      [(ngModel)]="datos[getTituloNbiCCField()]"
      (change)="onTituloNbiCCChange($event)"
      [placeholder]="obtenerTituloNbiCC()">
  </div>

  <div class="form-field mt-lg">
    <label class="label">{{ SECCION18_TEMPLATES.labelTableNbiCC }}</label>
    <app-dynamic-table
      [datos]="formDataSignal()"
      [sectionId]="seccionId"
      [config]="nbiCCAyrocaConfigSignal()"
      [columns]="[
        { field: 'categoria', label: SECCION18_TEMPLATES.tableHeader.categoria, type: 'text', placeholder: SECCION18_TEMPLATES.tableRow.categoriaCC, readonly: true },
        { field: 'casos', label: SECCION18_TEMPLATES.tableHeader.casos, type: 'number', placeholder: '' },
        { field: 'porcentaje', label: SECCION18_TEMPLATES.tableHeader.porcentaje, type: 'text', placeholder: '', readonly: true }
      ]"
      [totalKey]="'categoria'"
      (tableUpdated)="onNbiCCTableUpdated($event)">
    </app-dynamic-table>
  </div>

  <div class="form-field mt-lg">
    <label class="label">{{ SECCION18_TEMPLATES.labelFuenteNbiCC }}</label>
    <input 
      type="text" 
      class="form-control"
      [(ngModel)]="datos[getFuenteNbiCCField()]"
      (change)="onFuenteNbiCCChange($event)"
      [placeholder]="SECCION18_TEMPLATES.placeholderFuenteNbiCC">
  </div>

  <!-- ✅ TABLA NBI DISTRITO CAHUACHO CON TÍTULO Y FUENTE EDITABLES -->
  <div class="form-field mt-xl">
    <label class="label">{{ SECCION18_TEMPLATES.labelTituloNbiDistrito }}</label>
    <input 
      type="text" 
      class="form-control"
      [(ngModel)]="datos[getTituloNbiDistritoField()]"
      (change)="onTituloNbiDistritoChange($event)"
      [placeholder]="obtenerTituloNbiDistrito()">
  </div>

  <div class="form-field mt-lg">
    <label class="label">{{ SECCION18_TEMPLATES.labelTableNbiDistrito }}</label>
    <app-dynamic-table
      [datos]="formDataSignal()"
      [sectionId]="seccionId"
      [config]="nbiDistritoCahuachoConfigSignal()"
      [columns]="[
        { field: 'categoria', label: SECCION18_TEMPLATES.tableHeader.categoria, type: 'text', placeholder: SECCION18_TEMPLATES.tableRow.categoriaDistrito, readonly: true },
        { field: 'casos', label: SECCION18_TEMPLATES.tableHeader.casos, type: 'number', placeholder: '' },
        { field: 'porcentaje', label: SECCION18_TEMPLATES.tableHeader.porcentaje, type: 'text', placeholder: '', readonly: true }
      ]"
      [totalKey]="'categoria'"
      (tableUpdated)="onNbiDistritoTableUpdated($event)">
    </app-dynamic-table>
  </div>

  <div class="form-field mt-lg">
    <label class="label">{{ SECCION18_TEMPLATES.labelFuenteNbiDistrito }}</label>
    <input 
      type="text" 
      class="form-control"
      [(ngModel)]="datos[getFuenteNbiDistritoField()]"
      (change)="onFuenteNbiDistritoChange($event)"
      [placeholder]="SECCION18_TEMPLATES.placeholderFuenteNbiDistrito">
  </div>

  <div class="form-field mt-lg">
    <label class="label">{{ SECCION18_TEMPLATES.labelFotografias }}</label>
    <app-image-upload
      [fotografias]="fotografiasSignal()"
      [sectionId]="seccionId"
      [photoPrefix]="photoPrefixSignal()"
      [permitirMultiples]="true"
      [labelTitulo]="SECCION18_TEMPLATES.labelFotoTitulo"
      [labelFuente]="SECCION18_TEMPLATES.labelFotoFuente"
      [labelImagen]="SECCION18_TEMPLATES.labelFotoImagen"
      [requerido]="false"
      (fotografiasChange)="onFotografiasChange($event)">
    </app-image-upload>
  </div>
</div>

