<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">{{ SECCION19_TEMPLATES.tituloSeccion }}</h4>
    
    <div class="form-group-section mt-lg">
      <h4 class="section-title">{{ SECCION19_TEMPLATES.tituloEditarParrafo }}</h4>
      
      <app-paragraph-editor
        [fieldId]="getFieldIdTextoOrganizacion()"
        [label]="SECCION19_TEMPLATES.labelParrafoOrganizacion"
        [hint]="SECCION19_TEMPLATES.hintParrafoOrganizacion"
        [rows]="8"
        [value]="obtenerTextoOrganizacion()"
        (valueChange)="onFieldChange('textoOrganizacionSocial', $event)">
      </app-paragraph-editor>
    </div>

    <div class="form-field mt-xl">
      <label class="label">{{ SECCION19_TEMPLATES.labelTituloAutoridades }}</label>
      <input 
        type="text" 
        class="form-control"
        [(ngModel)]="datos[getTituloAutoridadesField()]"
        (input)="onTituloAutoridadesInput($event)"
        (focus)="onTituloAutoridadesFocus()"
        (blur)="onTituloAutoridadesBlur()"
        (change)="onTituloAutoridadesChange($event)"
        [placeholder]="SECCION19_TEMPLATES.placeholderTituloAutoridades">
      <app-dynamic-table
        [datos]="projectFacade.obtenerDatos()"
        [sectionId]="seccionId"
        [config]="{
          tablaKey: getTablaKeyAutoridades(),
          totalKey: 'organizacion',
          campoTotal: 'organizacion',
          permiteAgregarFilas: true,
          permiteEliminarFilas: true
        }"
        [columns]="[
          { field: 'organizacion', label: SECCION19_TEMPLATES.labelColumnaOrganizacion, type: 'text', placeholder: SECCION19_TEMPLATES.placeholderColumnaOrganizacion },
          { field: 'cargo', label: SECCION19_TEMPLATES.labelColumnaCargo, type: 'text', placeholder: SECCION19_TEMPLATES.placeholderColumnaCargo },
          { field: 'nombre', label: SECCION19_TEMPLATES.labelColumnaPersona, type: 'text', placeholder: SECCION19_TEMPLATES.placeholderColumnaPersona }
        ]"
        [totalKey]="'organizacion'"
        (tableUpdated)="onAutoridadesTableUpdated($event)">
      </app-dynamic-table>
    </div>

    <div class="form-field mt-lg">
      <label class="label">{{ SECCION19_TEMPLATES.labelFuenteAutoridades }}</label>
      <input 
        type="text" 
        class="form-control"
        [(ngModel)]="datos[getFuenteAutoridadesField()]"
        (input)="onFuenteAutoridadesInput($event)"
        (focus)="onFuenteAutoridadesFocus()"
        (blur)="onFuenteAutoridadesBlur()"
        (change)="onFuenteAutoridadesChange($event)"
        [placeholder]="SECCION19_TEMPLATES.placeholderFuenteAutoridades">
    </div>

    <div class="form-field mt-lg">
      <label class="label">{{ SECCION19_TEMPLATES.labelFotografias }}</label>
       <app-image-upload
         [fotografias]="fotosCacheSignal()"
         [sectionId]="seccionId"
         [photoPrefix]="photoPrefixSignal()"
         [permitirMultiples]="true"
         [mostrarTitulo]="true"
         [mostrarFuente]="true"
         [labelTitulo]="SECCION19_TEMPLATES.labelFotoTitulo"
         [labelFuente]="SECCION19_TEMPLATES.labelFotoFuente"
         [labelImagen]="SECCION19_TEMPLATES.labelFotoImagen"
         [placeholderTitulo]="SECCION19_TEMPLATES.placeholderFotoTitulo"
         [placeholderFuente]="SECCION19_TEMPLATES.placeholderFotoFuente"
         [tituloDefault]="SECCION19_TEMPLATES.tituloFotoDefault"
         [fuenteDefault]="SECCION19_TEMPLATES.fuenteFotoDefault"
         [requerido]="false"
         (fotografiasChange)="onFotografiasChange($event)">
       </app-image-upload>
    </div>
  </div>
</div>
