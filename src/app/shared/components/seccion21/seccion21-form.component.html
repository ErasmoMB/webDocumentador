<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">B. Caracterización socioeconómica del Área de Influencia Social Indirecta (AISI)</h4>

    <div class="form-group-section mt-lg">
      <h4 class="section-title">Editar Párrafos</h4>
      <app-paragraph-editor
        fieldId="parrafoSeccion21_aisi_intro_completo"
        label="AISI - Introducción - Texto Completo"
        hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
        [rows]="4"
        [value]="parrafoAisiSignal()"
        (valueChange)="actualizarParrafoAisi($event)">
      </app-paragraph-editor>
    </div>

    <div class="form-group-section mt-xl">
      <h4 class="section-title">B.1. Centro Poblado {{ centroPobladoAisiSignal() }}</h4>

      <div class="form-group-section mt-md">
        <h4 class="section-title">Editar Párrafos</h4>
        <app-paragraph-editor
          fieldId="parrafoSeccion21_centro_poblado_completo"
          label="Centro Poblado - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="6"
          [value]="parrafoCentroSignal()"
          (valueChange)="actualizarParrafoCentro($event)">
        </app-paragraph-editor>
      </div>

      <div class="form-group-section mt-xl">
        <h4 class="section-title">Datos para Generar Párrafos del Centro Poblado</h4>
        <div class="form-field mt-md">
          <label class="label">Ley N° de Creación del Distrito</label>
          <input type="text" class="form-control"
            [value]="leyCreacionDistritoSignal()"
            (input)="onLeyCreacionDistritoChange($any($event.target).value)"
            placeholder="Ej: 8004">
        </div>

        <div class="form-field mt-sm">
          <label class="label">Fecha de Creación del Distrito</label>
          <input type="text" class="form-control"
            [value]="fechaCreacionDistritoSignal()"
            (input)="onFechaCreacionDistritoChange($any($event.target).value)"
            placeholder="Ej: 22 de febrero de 1935">
        </div>

        <div class="form-field mt-sm">
          <label class="label">Distrito Anterior</label>
          <input type="text" class="form-control"
            [value]="distritoAnteriorSignal()"
            (input)="onDistritoAnteriorChange($any($event.target).value)"
            placeholder="Ej: Caravelí">
        </div>

        <div class="form-field mt-sm">
          <label class="label">Origen de Pobladores (Lugar/Provincia)</label>
          <input type="text" class="form-control"
            [value]="origenPobladores1Signal()"
            (input)="onOrigenPobladores1Change($any($event.target).value)"
            placeholder="Ej: Caravelí">
        </div>

        <div class="form-field mt-sm">
          <label class="label">Origen de Pobladores (Provincia)</label>
          <input type="text" class="form-control"
            [value]="origenPobladores2Signal()"
            (input)="onOrigenPobladores2Change($any($event.target).value)"
            placeholder="Ej: Parinacochas">
        </div>

        <div class="form-field mt-sm">
          <label class="label">Departamento de Origen</label>
          <input type="text" class="form-control"
            [value]="departamentoOrigenSignal()"
            (input)="onDepartamentoOrigenChange($any($event.target).value)"
            placeholder="Ej: Arequipa">
        </div>

        <div class="form-field mt-sm">
          <label class="label">Anexos Ejemplo</label>
          <input type="text" class="form-control"
            [value]="anexosEjemploSignal()"
            (input)="onAnexosEjemploChange($any($event.target).value)"
            placeholder="Ej: Llacsahuanca, Salome">
        </div>
      </div>

      <div class="form-field mt-lg">
        <div class="form-group" style="margin-bottom: 12px;">
          <label class="label">Título del Cuadro</label>
          <input type="text" class="form-control"
            [value]="cuadroTituloUbicacionCpSignal()"
            (input)="onTituloUbicacionChange($any($event.target).value)"
            placeholder="Ubicación referencial – Centro Poblado {{ centroPobladoAisiSignal() }}">
        </div>

        <app-dynamic-table
          [datos]="datos"
          [sectionId]="seccionId"
          [config]="ubicacionCpConfig"
          [columns]="columnasUbicacionCp"
          [tablaKey]="getTablaKeyUbicacionCp()"
          [showAddButton]="false"
          [showDeleteButton]="false"
          (tableUpdated)="onTablaUpdated()">
        </app-dynamic-table>

        <div class="form-group" style="margin-top: 12px;">
          <label class="label">Fuente del Cuadro</label>
          <input type="text" class="form-control"
            [value]="cuadroFuenteUbicacionCpSignal()"
            (input)="onFuenteUbicacionChange($any($event.target).value)"
            placeholder="Ej: GEADES (2024)">
        </div>
      </div>

      <div class="form-field mt-lg">
        <label class="label">{{ labelFotografiasSignal() }}</label>
        <app-image-upload
          [fotografias]="fotosCacheSignal()"
          [sectionId]="seccionId"
          [photoPrefix]="photoPrefixSignal()"
          [permitirMultiples]="true"
          labelTitulo="Título de la fotografía"
          labelFuente="Fuente de la fotografía"
          labelImagen="Fotografía - Imagen"
          placeholderTitulo="Ej: {{ tituloDefaultFotoSignal() }}"
          placeholderFuente="Ej: GEADES, 2024"
          tituloDefault="{{ tituloDefaultFotoSignal() }}"
          fuenteDefault="GEADES, 2024"
          [requerido]="false"
          (fotografiasChange)="onFotografiasChange($event)">
        </app-image-upload>
      </div>
    </div>
  </div>
</div>
