<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">{{ SECCION22_TEMPLATES.tituloSeccion }}</h4>

    <div class="form-field mt-md">
      <label class="label">{{ SECCION22_TEMPLATES.labelTextoDemografia }}</label>
      <textarea [value]="viewModel().textoDemografia" (change)="actualizarTextoDemografia($any($event.target).value)" rows="4" class="form-control" [placeholder]="SECCION22_TEMPLATES.placeholderTextoDemografia"></textarea>
    </div>

    <div class="form-field mt-md">
      <label class="label">{{ SECCION22_TEMPLATES.labelTextoGrupoEtario }}</label>
      <textarea [value]="viewModel().textoGrupoEtario" (change)="actualizarTextoGrupoEtario($any($event.target).value)" rows="4" class="form-control" [placeholder]="SECCION22_TEMPLATES.placeholderTextoGrupoEtario"></textarea>
    </div>

    <div class="form-field mt-lg">
      <label class="label">{{ SECCION22_TEMPLATES.labelTituloPoblacionSexo }}</label>
      <input type="text" class="form-control" [(ngModel)]="datos[tituloKeyPoblacionSexoSignal()]" (ngModelChange)="onTituloCuadroPoblacionSexoChange($event)" [placeholder]="SECCION22_TEMPLATES.placeholderTituloPoblacionSexo">
    </div>

    <div class="form-field mt-md">
      <label class="label">{{ SECCION22_TEMPLATES.labelPoblacionSexo }}</label>
      <app-dynamic-table
        [datos]="datos"
        [sectionId]="seccionId"
        [config]="{ tablaKey: tablaKeyPoblacionSexoSignal(), totalKey: 'sexo', campoTotal: 'casos', campoPorcentaje: 'porcentaje', calcularPorcentajes: true, camposParaCalcular: ['casos'], noInicializarDesdeEstructura: true }"
        [columns]="[
          { field: 'sexo', label: SECCION22_TEMPLATES.columnaSexo, type: 'text', readonly: true },
          { field: 'casos', label: SECCION22_TEMPLATES.columnaCasos, type: 'number' },
          { field: 'porcentaje', label: SECCION22_TEMPLATES.columnaPorcentaje, type: 'text', readonly: true }
        ]"
        [tablaKey]="tablaKeyPoblacionSexoSignal()"
        [showAddButton]="false"
        [showDeleteButton]="false"
        (tableUpdated)="onPoblacionSexoUpdated($event)">
      </app-dynamic-table>
    </div>

    <div class="form-field mt-md">
      <label class="label">{{ SECCION22_TEMPLATES.labelFuentePoblacionSexo }}</label>
      <input type="text" class="form-control" [(ngModel)]="datos[fuenteKeyPoblacionSexoSignal()]" (ngModelChange)="onFuenteCuadroPoblacionSexoChange($event)" [placeholder]="SECCION22_TEMPLATES.placeholderFuentePoblacionSexo">
    </div>

    <div class="form-field mt-lg">
      <label class="label">{{ SECCION22_TEMPLATES.labelTituloPoblacionEtario }}</label>
      <input type="text" class="form-control" [(ngModel)]="datos[tituloKeyPoblacionEtarioSignal()]" (ngModelChange)="onTituloCuadroPoblacionEtarioChange($event)" [placeholder]="SECCION22_TEMPLATES.placeholderTituloPoblacionEtario">
    </div>

    <div class="form-field mt-md">
      <label class="label">{{ SECCION22_TEMPLATES.labelPoblacionEtario }}</label>
      <app-dynamic-table 
        [datos]="datos" 
        [sectionId]="seccionId"
        [config]="{ tablaKey: tablaKeyPoblacionEtarioSignal(), totalKey: 'categoria', campoTotal: 'casos', campoPorcentaje: 'porcentaje', calcularPorcentajes: true, camposParaCalcular: ['casos'], noInicializarDesdeEstructura: true }" 
        [columns]="[
          { field: 'categoria', label: SECCION22_TEMPLATES.columnaCategoria, type: 'text', readonly: true },
          { field: 'casos', label: SECCION22_TEMPLATES.columnaCasos, type: 'number' },
          { field: 'porcentaje', label: SECCION22_TEMPLATES.columnaPorcentaje, type: 'text', readonly: true }
        ]"
        [tablaKey]="tablaKeyPoblacionEtarioSignal()"
        [showAddButton]="false"
        [showDeleteButton]="false"
        (tableUpdated)="onPoblacionEtarioUpdated($event)">
      </app-dynamic-table>
    </div>

    <div class="form-field mt-md">
      <label class="label">{{ SECCION22_TEMPLATES.labelFuentePoblacionEtario }}</label>
      <input type="text" class="form-control" [(ngModel)]="datos[fuenteKeyPoblacionEtarioSignal()]" (ngModelChange)="onFuenteCuadroPoblacionEtarioChange($event)" [placeholder]="SECCION22_TEMPLATES.placeholderFuentePoblacionEtario">
    </div>

    <div class="form-field mt-lg">
      <label class="label">{{ SECCION22_TEMPLATES.labelFotografias }}</label>
      <app-image-upload [fotografias]="viewModel().fotos" [sectionId]="seccionId" [photoPrefix]="photoPrefixSignal()" [mostrarTitulo]="true" [mostrarFuente]="true" (fotografiasChange)="onFotografiasChange($event)"></app-image-upload>
    </div>
  </div>
</div>