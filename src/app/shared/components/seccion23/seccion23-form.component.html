<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">B.1.2. Indicadores y distribución de la Población Económicamente Activa</h4>
    
    <div class="form-group-section" style="margin-top: 20px;">
      <h4 class="section-title">a. Población en edad de trabajar (PET)</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoPETIntro_AISI"
          label="PET - Párrafo introductorio"
          hint="Párrafo introductorio. Deje vacío para usar el texto por defecto."
          [rows]="3"
          [value]="$any(this).obtenerTextoPETIntro_AISI()"
          (valueChange)="onFieldChange('textoPETIntro_AISI', $event)">
        </app-paragraph-editor>

        <app-paragraph-editor
          fieldId="textoPET_AISI"
          label="PET - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="$any(this).obtenerTextoPET_AISI()"
          (valueChange)="onFieldChange('textoPET_AISI', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Título de la tabla</label>
        <input type="text" class="input" [value]="datos['petGruposEdadTitulo'] || ''" (input)="onFieldChange('petGruposEdadTitulo', $any($event.target).value)" placeholder="Ej: PET según grupos de edad – CP Cahuacho (2017)">
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">Tabla PET según grupos de edad</label>
        <app-dynamic-table
          [datos]="datos"
          [sectionId]="seccionId"
          [config]="petGruposEdadConfig"
          [columns]="[
            { field: 'categoria', label: 'Categoría', type: 'text', placeholder: 'Ej: 14 a 29 años', readonly: true },
            { field: 'casos', label: 'Casos', type: 'number', placeholder: '0' },
            { field: 'porcentaje', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true }
          ]"
          [tablaKey]="'petGruposEdadAISI'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onPetGruposEdadFieldChange.bind(this)"
          (tableUpdated)="onPetGruposEdadTableUpdated()"
          [showAddButton]="false" [showDeleteButton]="false">
        </app-dynamic-table>



        <div class="form-field" style="margin-top: 10px;">
          <label class="label">Fuente</label>
          <input type="text" class="input" [value]="datos['petGruposEdadFuente'] || ''" (input)="onFieldChange('petGruposEdadFuente', $any($event.target).value)" placeholder="Ej: Censos Nacionales 2017: XII de Población, VII de Vivienda y III de Comunidades Indígenas.">
        </div>
      </div>

      <div class="form-group-section" style="margin-top: 20px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoIndicadoresDistritalesAISI"
          label="Indicadores Distritales - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoIndicadoresDistritalesAISI()"
          (valueChange)="onFieldChange('textoIndicadoresDistritalesAISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">b. Población Económicamente Activa (PEA)</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoPEA_AISI"
          label="PEA - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoPEA_AISI()"
          (valueChange)="onFieldChange('textoPEA_AISI', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Título de la tabla</label>
        <input type="text" class="input" [value]="datos['peaDistritoSexoTitulo'] || ''" (input)="onFieldChange('peaDistritoSexoTitulo', $any($event.target).value)" placeholder="Ej: Conformación de la PEA y No PEA, según sexo – Distrito Cahuacho (2017)">
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">Tabla PEA y No PEA según sexo</label>
        <app-dynamic-table
          [datos]="datos"
          [sectionId]="seccionId"
          [config]="peaDistritoSexoConfig"
          [columns]="[
            { field: 'categoria', label: 'Categorías', type: 'text', placeholder: 'Ej: PEA', readonly: true },
            { field: 'hombres', label: 'Hombres', type: 'number', placeholder: '0' },
            { field: 'porcentajeHombres', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true },
            { field: 'mujeres', label: 'Mujeres', type: 'number', placeholder: '0' },
            { field: 'porcentajeMujeres', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true },
            { field: 'casos', label: 'Casos', type: 'number', placeholder: '0', readonly: true },
            { field: 'porcentaje', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true }
          ]"
          [tablaKey]="'peaDistritoSexoTabla'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onPEADistritoSexoFieldChange.bind(this)"
          (tableUpdated)="onPEADistritoSexoTableUpdated()"
          [showAddButton]="false" [showDeleteButton]="false">
        </app-dynamic-table>



        <div class="form-field" style="margin-top: 10px;">
          <label class="label">Fuente</label>
          <input type="text" class="input" [value]="datos['peaDistritoSexoFuente'] || ''" (input)="onFieldChange('peaDistritoSexoFuente', $any($event.target).value)" placeholder="Ej: Resultados Definitivos de la Población Económicamente Activa 2017 – INEI 2018">
        </div>
      </div>

      <div class="form-group-section" style="margin-top: 20px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoAnalisisPEA_AISI"
          label="Análisis PEA - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoAnalisisPEA_AISI()"
          (valueChange)="onFieldChange('textoAnalisisPEA_AISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">b.1. Situación del empleo (dependiente o independiente)</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoEmpleoAISI"
          label="Situación del empleo - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="6"
          [value]="obtenerTextoEmpleoAISI()"
          (valueChange)="onFieldChange('textoEmpleoAISI', $event)">
        </app-paragraph-editor>

        <app-paragraph-editor
          fieldId="textoEmpleoDependiente_AISI"
          label="Empleo dependiente - Texto"
          hint="Texto sobre empleo dependiente. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoEmpleoDependiente_AISI()"
          (valueChange)="onFieldChange('textoEmpleoDependiente_AISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">b.2. Ingresos de la población</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoIngresosAISI"
          label="Ingresos de la población - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="8"
          [value]="obtenerTextoIngresosAISI()"
          (valueChange)="onFieldChange('textoIngresosAISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">b.3. Índice de Desempleo</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoIndiceDesempleoAISI"
          label="Índice de Desempleo - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoIndiceDesempleoAISI()"
          (valueChange)="onFieldChange('textoIndiceDesempleoAISI', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Título de la tabla</label>
        <input type="text" class="input" [value]="datos['peaOcupadaDesocupadaTitulo'] || ''" (input)="onFieldChange('peaOcupadaDesocupadaTitulo', $any($event.target).value)" placeholder="Ej: Conformación de la PEA Ocupada y Desocupada, según sexo – Distrito Cahuacho (2017)">
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">Tabla PEA Ocupada y Desocupada según sexo</label>
        <app-dynamic-table
          [datos]="datos"
          [sectionId]="seccionId"
          [config]="peaOcupadaDesocupadaConfig"
          [columns]="[
            { field: 'categoria', label: 'Categorías', type: 'text', placeholder: 'Ej: PEA Ocupada', readonly: true },
            { field: 'hombres', label: 'Hombres', type: 'number', placeholder: '0' },
            { field: 'porcentajeHombres', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true },
            { field: 'mujeres', label: 'Mujeres', type: 'number', placeholder: '0' },
            { field: 'porcentajeMujeres', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true },
            { field: 'casos', label: 'Casos', type: 'number', placeholder: '0', readonly: true },
            { field: 'porcentaje', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true }
          ]"
          [tablaKey]="'peaOcupadaDesocupadaTabla'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onPEAOcupadaDesocupadaFieldChange.bind(this)"
          (tableUpdated)="onPEAOcupadaDesocupadaTableUpdated()"
          [showAddButton]="false" [showDeleteButton]="false">
        </app-dynamic-table>



        <div class="form-field" style="margin-top: 10px;">
          <label class="label">Fuente</label>
          <input type="text" class="input" [value]="datos['peaOcupadaDesocupadaFuente'] || ''" (input)="onFieldChange('peaOcupadaDesocupadaFuente', $any($event.target).value)" placeholder="Ej: Resultados Definitivos de la Población Económicamente Activa 2017 – INEI 2018">
        </div>
      </div>

      <div class="form-group-section" style="margin-top: 20px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoPEAAISI"
          label="Análisis PEA Ocupada y Desocupada - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoPEAAISI()"
          (valueChange)="onFieldChange('textoPEAAISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">Datos Adicionales</h4>

      <div class="form-row" style="margin-top: 15px;">
        <div class="form-field">
          <label class="label">Población distrital</label>
          <input type="number" class="input" 
            [value]="datos['poblacionDistritalAISI'] || ''"
            (input)="onFieldChange('poblacionDistritalAISI', $any($event.target).value)"
            placeholder="Ej: 610">
        </div>

        <div class="form-field">
          <label class="label">PET distrital (14 años a más)</label>
          <input type="number" class="input" 
            [value]="datos['petDistritalAISI'] || ''"
            (input)="onFieldChange('petDistritalAISI', $any($event.target).value)"
            placeholder="Ej: 461">
        </div>
      </div>

      <div class="form-row" style="margin-top: 15px;">
        <div class="form-field">
          <label class="label">Ingreso familiar per cápita (S/.)</label>
          <input type="text" class="input" 
            [value]="datos['ingresoPerCapitaAISI'] || ''"
            (input)="onFieldChange('ingresoPerCapitaAISI', $any($event.target).value)"
            placeholder="Ej: 391,06">
        </div>
