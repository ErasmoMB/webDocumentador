<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">{{ SECCION23_TEMPLATES.sectionTitle }}</h4>
    
    <div class="form-group-section" style="margin-top: 20px;">
      <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionPET }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          [fieldId]="obtenerPrefijoGrupo() ? 'textoPETIntro' + obtenerPrefijoGrupo() : 'textoPETIntro_AISI'"
          [label]="SECCION23_TEMPLATES.labelPETIntro"
          [hint]="SECCION23_TEMPLATES.hintPETIntro"
          [rows]="3"
          [value]="viewModel().textos.petIntro"
          (valueChange)="onFieldChange(obtenerPrefijoGrupo() ? 'textoPETIntro' + obtenerPrefijoGrupo() : 'textoPETIntro_AISI', $event)">
        </app-paragraph-editor>

        <app-paragraph-editor
          [fieldId]="obtenerPrefijoGrupo() ? 'textoPET' + obtenerPrefijoGrupo() : 'textoPET_AISI'"
          [label]="SECCION23_TEMPLATES.labelPETCompleto"
          [hint]="SECCION23_TEMPLATES.hintPETCompleto"
          [rows]="4"
          [value]="viewModel().textos.pet"
          (valueChange)="onFieldChange(obtenerPrefijoGrupo() ? 'textoPET' + obtenerPrefijoGrupo() : 'textoPET_AISI', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Título de la tabla</label>
        <input type="text" class="input" [value]="datos['petGruposEdadTitulo'] || ''" (input)="onFieldChange('petGruposEdadTitulo', $any($event.target).value)" [placeholder]="SECCION23_TEMPLATES.placeholderPETTitulo">
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">Tabla PET según grupos de edad</label>
        <app-dynamic-table
          [datos]="datos"
          [sectionId]="seccionId"
          [config]="petGruposEdadConfig"
          [columns]="[
            { field: 'categoria', label: SECCION23_TEMPLATES.tableColumnCategoria, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCategoria, readonly: true },
            { field: 'casos', label: SECCION23_TEMPLATES.tableColumnCasos, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentaje', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true }
          ]"
          [tablaKey]="'petGruposEdadAISI'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onPetGruposEdadFieldChange.bind(this)"
          (tableUpdated)="onPetGruposEdadTableUpdated()"
        >
        </app-dynamic-table>



        <div class="form-field" style="margin-top: 10px;">
          <label class="label">{{ SECCION23_TEMPLATES.labelPETFuente }}</label>
          <input type="text" class="input" [value]="datos['petGruposEdadFuente'] || ''" (input)="onFieldChange('petGruposEdadFuente', $any($event.target).value)" [placeholder]="SECCION23_TEMPLATES.placeholderPETFuente">
        </div>
      </div>

      <div class="form-group-section" style="margin-top: 20px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          [fieldId]="obtenerPrefijoGrupo() ? 'textoIndicadoresDistritales' + obtenerPrefijoGrupo() : 'textoIndicadoresDistritalesAISI'"
          [label]="SECCION23_TEMPLATES.labelIndicadoresDistritalesAnalisisSecundario"
          [hint]="SECCION23_TEMPLATES.hintIndicadoresDistritales"
          [rows]="4"
          [value]="viewModel().textos.indicadoresDistritales"
          (valueChange)="onFieldChange(obtenerPrefijoGrupo() ? 'textoIndicadoresDistritales' + obtenerPrefijoGrupo() : 'textoIndicadoresDistritalesAISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionPEA }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          [fieldId]="obtenerPrefijoGrupo() ? 'textoPEA' + obtenerPrefijoGrupo() : 'textoPEA_AISI'"
          [label]="SECCION23_TEMPLATES.labelPeaTextCompletoSecundario"
          [hint]="SECCION23_TEMPLATES.hintPeaAnalisis"
          [rows]="4"
          [value]="viewModel().textos.pea"
          (valueChange)="onFieldChange(obtenerPrefijoGrupo() ? 'textoPEA' + obtenerPrefijoGrupo() : 'textoPEA_AISI', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Título de la tabla</label>
        <input type="text" class="input" [value]="datos['peaDistritoSexoTitulo'] || ''" (input)="onFieldChange('peaDistritoSexoTitulo', $any($event.target).value)" [placeholder]="SECCION23_TEMPLATES.placeholderPeaDistritoSexoTitulo">
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">Tabla PEA y No PEA según sexo</label>
        <app-dynamic-table
          [datos]="datos"
          [sectionId]="seccionId"
          [config]="peaDistritoSexoConfig"
          [columns]="[
            { field: 'categoria', label: SECCION23_TEMPLATES.tableColumnCategorias, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPEA, readonly: true },
            { field: 'hombres', label: SECCION23_TEMPLATES.tableColumnHombres, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentajeHombres', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true },
            { field: 'mujeres', label: SECCION23_TEMPLATES.tableColumnMujeres, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentajeMujeres', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true },
            { field: 'casos', label: SECCION23_TEMPLATES.tableColumnCasos, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentaje', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true }
          ]"
          [tablaKey]="'peaDistritoSexoTabla'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onPEADistritoSexoFieldChange.bind(this)"
          (tableUpdated)="onPEADistritoSexoTableUpdated()"
        >
        </app-dynamic-table>



        <div class="form-field" style="margin-top: 10px;">
          <label class="label">{{ SECCION23_TEMPLATES.labelPeaDistritoSexoFuente }}</label>
          <input type="text" class="input" [value]="datos['peaDistritoSexoFuente'] || ''" (input)="onFieldChange('peaDistritoSexoFuente', $any($event.target).value)" [placeholder]="SECCION23_TEMPLATES.placeholderPeaDistritoSexoFuente">
        </div>
      </div>

      <div class="form-group-section" style="margin-top: 20px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          [fieldId]="obtenerPrefijoGrupo() ? 'textoAnalisisPEA' + obtenerPrefijoGrupo() : 'textoAnalisisPEA_AISI'"
          [label]="SECCION23_TEMPLATES.labelAnalisisPEASecundario"
          [hint]="SECCION23_TEMPLATES.hintPeaAnalisis"
          [rows]="4"
          [value]="viewModel().textos.analisisPEA"
          (valueChange)="onFieldChange(obtenerPrefijoGrupo() ? 'textoAnalisisPEA' + obtenerPrefijoGrupo() : 'textoAnalisisPEA_AISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEmpleoSituacion }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          [fieldId]="'textoEmpleo' + obtenerPrefijoGrupo()"
          [label]="SECCION23_TEMPLATES.labelEmpleoSituacionCompletoSecundario"
          [hint]="SECCION23_TEMPLATES.hintEmpleoSituacion"
          [rows]="6"
          [value]="viewModel().textos.empleo"
          (valueChange)="onFieldChange('textoEmpleo' + obtenerPrefijoGrupo(), $event)">
        </app-paragraph-editor>

        <app-paragraph-editor
          [fieldId]="'textoEmpleoDependiente' + obtenerPrefijoGrupo()"
          [label]="SECCION23_TEMPLATES.labelEmpleoDependienteTextoSecundario"
          [hint]="SECCION23_TEMPLATES.hintEmpleoDependiente"
          [rows]="4"
          [value]="viewModel().textos.empleoDependiente"
          (valueChange)="onFieldChange('textoEmpleoDependiente' + obtenerPrefijoGrupo(), $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionIngresos }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          [fieldId]="'textoIngresos' + obtenerPrefijoGrupo()"
          [label]="SECCION23_TEMPLATES.labelIngresosCompletoSecundario"
          [hint]="SECCION23_TEMPLATES.hintIngresos"
          [rows]="8"
          [value]="viewModel().textos.ingresos"
          (valueChange)="onFieldChange('textoIngresos' + obtenerPrefijoGrupo(), $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionIndiceDesempleo }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          [fieldId]="'textoIndiceDesempleo' + obtenerPrefijoGrupo()"
          [label]="SECCION23_TEMPLATES.labelIndiceDesempleoCompletoSecundario"
          [hint]="SECCION23_TEMPLATES.hintIndiceDesempleo"
          [rows]="4"
          [value]="viewModel().textos.indiceDesempleo"
          (valueChange)="onFieldChange('textoIndiceDesempleo' + obtenerPrefijoGrupo(), $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Título de la tabla</label>
        <input type="text" class="input" [value]="datos['peaOcupadaDesocupadaTitulo'] || ''" (input)="onFieldChange('peaOcupadaDesocupadaTitulo', $any($event.target).value)" [placeholder]="SECCION23_TEMPLATES.placeholderPeaOcupadaDesocupadaTitulo">
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">Tabla PEA Ocupada y Desocupada según sexo</label>
        <app-dynamic-table
          [datos]="datos"
          [sectionId]="seccionId"
          [config]="peaOcupadaDesocupadaConfig"
          [columns]="[
            { field: 'categoria', label: SECCION23_TEMPLATES.tableColumnCategorias, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPEAOcupada, readonly: true },
            { field: 'hombres', label: SECCION23_TEMPLATES.tableColumnHombres, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentajeHombres', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true },
            { field: 'mujeres', label: SECCION23_TEMPLATES.tableColumnMujeres, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentajeMujeres', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true },
            { field: 'casos', label: SECCION23_TEMPLATES.tableColumnCasos, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentaje', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true }
          ]"
          [tablaKey]="'peaOcupadaDesocupadaTabla'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onPEAOcupadaDesocupadaFieldChange.bind(this)"
          (tableUpdated)="onPEAOcupadaDesocupadaTableUpdated()"
        >
        </app-dynamic-table>



        <div class="form-field" style="margin-top: 10px;">
          <label class="label">{{ SECCION23_TEMPLATES.labelPeaOcupadaDesocupadaFuente }}</label>
          <input type="text" class="input" [value]="datos['peaOcupadaDesocupadaFuente'] || ''" (input)="onFieldChange('peaOcupadaDesocupadaFuente', $any($event.target).value)" [placeholder]="SECCION23_TEMPLATES.placeholderPeaOcupadaDesocupadaFuente">
        </div>
      </div>

      <div class="form-group-section" style="margin-top: 20px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          [fieldId]="'textoPEAFull' + obtenerPrefijoGrupo()"
          [label]="SECCION23_TEMPLATES.labelPeaOcupadaDesocupadaAnalisisSecundario"
          [hint]="SECCION23_TEMPLATES.hintPeaOcupadaDesocupada"
          [rows]="4"
          [value]="viewModel().textos.peaFull"
          (valueChange)="onFieldChange('textoPEAFull' + obtenerPrefijoGrupo(), $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionFotografias }}</h4>

      <div style="margin-top: 15px;">
        <app-image-upload
          [sectionId]="seccionId"
          [photoPrefix]="photoPrefixSignal()"
          [fotografias]="fotosCacheSignal()"
          (fotografiasChange)="onFotografiasChange($event)">
        </app-image-upload>
      </div>
