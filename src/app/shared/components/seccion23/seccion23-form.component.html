<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">{{ SECCION23_TEMPLATES.sectionTitle }}</h4>
    
    <div class="form-group-section" style="margin-top: 20px;">
      <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionPET }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoPETIntro_AISI"
          [label]="SECCION23_TEMPLATES.labelPETIntro"
          [hint]="SECCION23_TEMPLATES.hintPETIntro"
          [rows]="3"
          [value]="$any(this).obtenerTextoPETIntro_AISI()"
          (valueChange)="onFieldChange('textoPETIntro_AISI', $event)">
        </app-paragraph-editor>

        <app-paragraph-editor
          fieldId="textoPET_AISI"
          [label]="SECCION23_TEMPLATES.labelPETCompleto"
          [hint]="SECCION23_TEMPLATES.hintPETCompleto"
          [rows]="4"
          [value]="$any(this).obtenerTextoPET_AISI()"
          (valueChange)="onFieldChange('textoPET_AISI', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Título de la tabla</label>
        <input type="text" class="input" [value]="datos['petGruposEdadTitulo'] || ''" (input)="onFieldChange('petGruposEdadTitulo', $any($event.target).value)" [placeholder]="SECCION23_TEMPLATES.placeholderPETTitulo">
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">Tabla PET según grupos de edad</label>
        <app-dynamic-table
          [datos]="datos"
          [sectionId]="seccionId"
          [config]="petGruposEdadConfig"
          [columns]="[
            { field: 'categoria', label: SECCION23_TEMPLATES.tableColumnCategoria, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCategoria, readonly: true },
            { field: 'casos', label: SECCION23_TEMPLATES.tableColumnCasos, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentaje', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true }
          ]"
          [tablaKey]="'petGruposEdadAISI'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onPetGruposEdadFieldChange.bind(this)"
          (tableUpdated)="onPetGruposEdadTableUpdated()"
        >
        </app-dynamic-table>



        <div class="form-field" style="margin-top: 10px;">
          <label class="label">{{ SECCION23_TEMPLATES.labelPETFuente }}</label>
          <input type="text" class="input" [value]="datos['petGruposEdadFuente'] || ''" (input)="onFieldChange('petGruposEdadFuente', $any($event.target).value)" [placeholder]="SECCION23_TEMPLATES.placeholderPETFuente">
        </div>
      </div>

      <div class="form-group-section" style="margin-top: 20px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoIndicadoresDistritalesAISI"
          [label]="SECCION23_TEMPLATES.labelIndicadoresDistritalesAnalisisSecundario"
          [hint]="SECCION23_TEMPLATES.hintIndicadoresDistritales"
          [rows]="4"
          [value]="obtenerTextoIndicadoresDistritalesAISI()"
          (valueChange)="onFieldChange('textoIndicadoresDistritalesAISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionPEA }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoPEA_AISI"
          [label]="SECCION23_TEMPLATES.labelPeaTextCompletoSecundario"
          [hint]="SECCION23_TEMPLATES.hintPeaAnalisis"
          [rows]="4"
          [value]="obtenerTextoPEA_AISI()"
          (valueChange)="onFieldChange('textoPEA_AISI', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Título de la tabla</label>
        <input type="text" class="input" [value]="datos['peaDistritoSexoTitulo'] || ''" (input)="onFieldChange('peaDistritoSexoTitulo', $any($event.target).value)" [placeholder]="SECCION23_TEMPLATES.placeholderPeaDistritoSexoTitulo">
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">Tabla PEA y No PEA según sexo</label>
        <app-dynamic-table
          [datos]="datos"
          [sectionId]="seccionId"
          [config]="peaDistritoSexoConfig"
          [columns]="[
            { field: 'categoria', label: SECCION23_TEMPLATES.tableColumnCategorias, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPEA, readonly: true },
            { field: 'hombres', label: SECCION23_TEMPLATES.tableColumnHombres, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentajeHombres', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true },
            { field: 'mujeres', label: SECCION23_TEMPLATES.tableColumnMujeres, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentajeMujeres', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true },
            { field: 'casos', label: SECCION23_TEMPLATES.tableColumnCasos, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentaje', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true }
          ]"
          [tablaKey]="'peaDistritoSexoTabla'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onPEADistritoSexoFieldChange.bind(this)"
          (tableUpdated)="onPEADistritoSexoTableUpdated()"
        >
        </app-dynamic-table>



        <div class="form-field" style="margin-top: 10px;">
          <label class="label">{{ SECCION23_TEMPLATES.labelPeaDistritoSexoFuente }}</label>
          <input type="text" class="input" [value]="datos['peaDistritoSexoFuente'] || ''" (input)="onFieldChange('peaDistritoSexoFuente', $any($event.target).value)" [placeholder]="SECCION23_TEMPLATES.placeholderPeaDistritoSexoFuente">
        </div>
      </div>

      <div class="form-group-section" style="margin-top: 20px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoAnalisisPEA_AISI"
          [label]="SECCION23_TEMPLATES.labelAnalisisPEASecundario"
          [hint]="SECCION23_TEMPLATES.hintPeaAnalisis"
          [rows]="4"
          [value]="obtenerTextoAnalisisPEA_AISI()"
          (valueChange)="onFieldChange('textoAnalisisPEA_AISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEmpleoSituacion }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoEmpleoAISI"
          [label]="SECCION23_TEMPLATES.labelEmpleoSituacionCompletoSecundario"
          [hint]="SECCION23_TEMPLATES.hintEmpleoSituacion"
          [rows]="6"
          [value]="obtenerTextoEmpleoAISI()"
          (valueChange)="onFieldChange('textoEmpleoAISI', $event)">
        </app-paragraph-editor>

        <app-paragraph-editor
          fieldId="textoEmpleoDependiente_AISI"
          [label]="SECCION23_TEMPLATES.labelEmpleoDependienteTextoSecundario"
          [hint]="SECCION23_TEMPLATES.hintEmpleoDependiente"
          [rows]="4"
          [value]="obtenerTextoEmpleoDependiente_AISI()"
          (valueChange)="onFieldChange('textoEmpleoDependiente_AISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionIngresos }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoIngresosAISI"
          [label]="SECCION23_TEMPLATES.labelIngresosCompletoSecundario"
          [hint]="SECCION23_TEMPLATES.hintIngresos"
          [rows]="8"
          [value]="obtenerTextoIngresosAISI()"
          (valueChange)="onFieldChange('textoIngresosAISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionIndiceDesempleo }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoIndiceDesempleoAISI"
          [label]="SECCION23_TEMPLATES.labelIndiceDesempleoCompletoSecundario"
          [hint]="SECCION23_TEMPLATES.hintIndiceDesempleo"
          [rows]="4"
          [value]="obtenerTextoIndiceDesempleoAISI()"
          (valueChange)="onFieldChange('textoIndiceDesempleoAISI', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Título de la tabla</label>
        <input type="text" class="input" [value]="datos['peaOcupadaDesocupadaTitulo'] || ''" (input)="onFieldChange('peaOcupadaDesocupadaTitulo', $any($event.target).value)" [placeholder]="SECCION23_TEMPLATES.placeholderPeaOcupadaDesocupadaTitulo">
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">Tabla PEA Ocupada y Desocupada según sexo</label>
        <app-dynamic-table
          [datos]="datos"
          [sectionId]="seccionId"
          [config]="peaOcupadaDesocupadaConfig"
          [columns]="[
            { field: 'categoria', label: SECCION23_TEMPLATES.tableColumnCategorias, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPEAOcupada, readonly: true },
            { field: 'hombres', label: SECCION23_TEMPLATES.tableColumnHombres, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentajeHombres', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true },
            { field: 'mujeres', label: SECCION23_TEMPLATES.tableColumnMujeres, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentajeMujeres', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true },
            { field: 'casos', label: SECCION23_TEMPLATES.tableColumnCasos, type: 'number', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderCasos, readonly: true },
            { field: 'porcentaje', label: SECCION23_TEMPLATES.tableColumnPorcentaje, type: 'text', placeholder: SECCION23_TEMPLATES.tableInputPlaceholderPorcentaje, readonly: true }
          ]"
          [tablaKey]="'peaOcupadaDesocupadaTabla'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onPEAOcupadaDesocupadaFieldChange.bind(this)"
          (tableUpdated)="onPEAOcupadaDesocupadaTableUpdated()"
        >
        </app-dynamic-table>



        <div class="form-field" style="margin-top: 10px;">
          <label class="label">{{ SECCION23_TEMPLATES.labelPeaOcupadaDesocupadaFuente }}</label>
          <input type="text" class="input" [value]="datos['peaOcupadaDesocupadaFuente'] || ''" (input)="onFieldChange('peaOcupadaDesocupadaFuente', $any($event.target).value)" [placeholder]="SECCION23_TEMPLATES.placeholderPeaOcupadaDesocupadaFuente">
        </div>
      </div>

      <div class="form-group-section" style="margin-top: 20px;">
        <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionEditarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoPEAAISI"
          [label]="SECCION23_TEMPLATES.labelPeaOcupadaDesocupadaAnalisisSecundario"
          [hint]="SECCION23_TEMPLATES.hintPeaOcupadaDesocupada"
          [rows]="4"
          [value]="obtenerTextoPEAAISI()"
          (valueChange)="onFieldChange('textoPEAAISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION23_TEMPLATES.subsectionFotografias }}</h4>

      <div style="margin-top: 15px;">
        <app-image-upload
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX"
          [fotografias]="fotografiasFormMulti"
          (fotografiasChange)="onFotografiasChange($event)">
        </app-image-upload>
      </div>
