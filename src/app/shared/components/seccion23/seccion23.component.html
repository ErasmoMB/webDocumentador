<div *ngIf="!modoFormulario">
<h5>B.1.2. Indicadores y distribución de la Población Económicamente Activa</h5>
<p style="margin-top: 10px; margin-bottom: 6px;"><strong>a. Población en edad de trabajar (PET)</strong></p>
<p class="text-justify">La población cumplida de 14 años de edad, se encuentra en edad de trabajar, en concordancia con el Convenio 138 de la Organización Internacional de Trabajo (OIT), aprobado por Resolución Legislativa Nº27453 de fecha 22 de mayo del 2001 y ratificado por DS Nº038-2001-RE, publicado el 31 de mayo de 2001.</p>
<p class="text-justify">La población en edad de trabajar (PET) en el CP <span [appDataSource]="'section'" [fieldName]="'centroPobladoAISI'">{{ datos.centroPobladoAISI || 'Cahuacho' }}</span> representa un <span class="data-calculated">{{ getPorcentajePET() }}</span> de la población total y está soportada en su mayoría por el grupo etario de 45 a 64 años, puesto que son el <span class="data-calculated">{{ getPorcentajeGrupoPET('45 a 64') }}</span> de la PET. El bloque de edad con menor cantidad de miembros es el de 65 años a más, puesto que representa solamente el <span class="data-calculated">{{ getPorcentajeGrupoPET('65') }}</span> de la PET.</p>

<app-table-wrapper title="PET según grupos de edad – CP {{ datos.centroPobladoAISI || 'Cahuacho' }} (2017)" sectionId="3.1.4.B.1.2">
<table class="table-container">
    <thead>
        <tr>
            <th class="table-header">Categoría</th>
            <th class="table-header">Casos</th>
            <th class="table-header">Porcentaje</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of getPetGruposEdadSinTotal()">
            <td class="table-cell cell-from-bd">{{ item.categoria || '0' }}</td>
            <td class="table-cell cell-from-bd">{{ item.casos || '0' }}</td>
            <td class="table-cell cell-percentage">{{ item.porcentaje || '0,00 %' }}</td>
        </tr>
        <tr *ngIf="getPetGruposEdadSinTotal().length > 0">
            <td class="table-cell"><strong>Total</strong></td>
            <td class="table-cell cell-from-bd"><strong>{{ getTotalPetGruposEdad() }}</strong></td>
            <td class="table-cell cell-percentage"><strong>100,00 %</strong></td>
        </tr>
        <tr *ngIf="getPetGruposEdadSinTotal().length === 0">
            <td class="table-cell">0</td>
            <td class="table-cell">0</td>
            <td class="table-cell">0,00 %</td>
        </tr>
    </tbody>
</table>
</app-table-wrapper>
<p class="source">FUENTE:<span [appDataSource]="'manual'" [fieldName]="'distritoSeleccionado'"> Censos Nacionales 2017: XII de Población, VII de Vivienda y III de Comunidades Indígenas.</span></p>

<p class="text-justify">No obstante, los indicadores de la Población Económicamente Activa (PEA), tanto de su cantidad total como por subgrupos (Ocupada y Desocupada), se describen a nivel distrital siguiendo la información oficial de la publicación "Resultados Definitivos de la Población Económicamente Activa 2017" del INEI. Para ello es importante tomar en cuenta que la población distrital de <span [appDataSource]="'section'" [fieldName]="'distritoSeleccionado'">{{ datos.distritoSeleccionado || 'Cahuacho' }}</span>, jurisdicción donde se ubica el AISD en cuestión, es de <span [appDataSource]="'section'">{{ getPoblacionDistrital() }}</span> personas, y que la PET (de 14 años a más) al mismo nivel está conformada por <span [appDataSource]="'section'">{{ getPETDistrital() }}</span> personas.</p>

<p style="margin-top: 10px; margin-bottom: 6px;"><strong>b. Población Económicamente Activa (PEA)</strong></p>
<p class="text-justify" *ngIf="datos.textoPEA_AISI && datos.textoPEA_AISI !== '____'">{{ datos.textoPEA_AISI }}</p>
<p class="text-justify" *ngIf="!datos.textoPEA_AISI || datos.textoPEA_AISI === '____'">La Población Económicamente Activa (PEA) constituye un indicador fundamental para comprender la dinámica económica y social de cualquier jurisdicción al nivel que se requiera. En este apartado, se presenta una descripción de la PEA del distrito de <span [appDataSource]="'section'" [fieldName]="'textoPEA_AISI'">{{ datos.distritoSeleccionado || 'Cahuacho' }}</span>, jurisdicción que abarca a su capital distrital, el CP <span [appDataSource]="'section'">{{ datos.centroPobladoAISI || 'Cahuacho' }}</span>. Para ello, se emplea la fuente "Resultados Definitivos de la Población Económicamente Activa 2017" del INEI, con el cual se puede visualizar las características demográficas de la población en capacidad de trabajar en el distrito en cuestión.</p>

<app-table-wrapper title="Conformación de la PEA y No PEA, según sexo – Distrito {{ datos.distritoSeleccionado || 'Cahuacho' }} (2017)" sectionId="3.1.4.B.1.2">
<table class="table-container">
    <thead>
        <tr>
            <th class="table-header">Categorías</th>
            <th class="table-header">Hombres</th>
            <th class="table-header">Porcentaje</th>
            <th class="table-header">Mujeres</th>
            <th class="table-header">Porcentaje</th>
            <th class="table-header">Casos</th>
            <th class="table-header">Porcentaje</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of getPeaDistritoSexoSinTotal()">
            <td class="table-cell cell-from-bd">{{ item.categoria || '0' }}</td>
            <td class="table-cell cell-from-bd">{{ item.hombres || '0' }}</td>
            <td class="table-cell cell-percentage">{{ item.porcentajeHombres || '0,00 %' }}</td>
            <td class="table-cell cell-from-bd">{{ item.mujeres || '0' }}</td>
            <td class="table-cell cell-percentage">{{ item.porcentajeMujeres || '0,00 %' }}</td>
            <td class="table-cell cell-from-bd">{{ item.casos || '0' }}</td>
            <td class="table-cell cell-percentage">{{ item.porcentaje || '0,00 %' }}</td>
        </tr>
        <tr *ngIf="getPeaDistritoSexoSinTotal().length > 0">
            <td class="table-cell"><strong>Total</strong></td>
            <td class="table-cell cell-from-bd"><strong>{{ getTotalPeaDistritoSexoHombres() }}</strong></td>
            <td class="table-cell cell-percentage"><strong>100,00 %</strong></td>
            <td class="table-cell cell-from-bd"><strong>{{ getTotalPeaDistritoSexoMujeres() }}</strong></td>
            <td class="table-cell cell-percentage"><strong>100,00 %</strong></td>
            <td class="table-cell cell-from-bd"><strong>{{ getTotalPeaDistritoSexo() }}</strong></td>
            <td class="table-cell cell-percentage"><strong>100,00 %</strong></td>
        </tr>
        <tr *ngIf="getPeaDistritoSexoSinTotal().length === 0">
            <td class="table-cell">0</td>
            <td class="table-cell">0</td>
            <td class="table-cell">0,00 %</td>
            <td class="table-cell">0</td>
            <td class="table-cell">0,00 %</td>
            <td class="table-cell">0</td>
            <td class="table-cell">0,00 %</td>
        </tr>
    </tbody>
</table>
</app-table-wrapper>
<p class="source">FUENTE:<span [appDataSource]="'manual'" [fieldName]="'distritoSeleccionado'"> Resultados Definitivos de la Población Económicamente Activa 2017 – INEI 2018</span></p>
<p class="text-justify">Del cuadro precedente, se aprecia que la PEA del distrito de <span [appDataSource]="'section'" [fieldName]="'distritoSeleccionado'">{{ datos.distritoSeleccionado || 'Cahuacho' }}</span> representa un <span class="data-calculated">{{ getPorcentajePEA() }}</span> del total de la PET de la jurisdicción, mientras que la No PEA abarca el <span class="data-calculated">{{ getPorcentajeNoPEA() }}</span> restante. Asimismo, se visualiza que los hombres se hallan predominantemente dentro de la PEA, pues el <span class="data-calculated">{{ getPorcentajeHombresPEA() }}</span> se halla en esta categoría. Por otro lado, la mayor parte de las mujeres se hallan en el indicador de No PEA con un <span class="data-calculated">{{ getPorcentajeMujeresNoPEA() }}</span>.</p>

<p style="margin-top: 20px; margin-bottom: 10px;"><strong>b.1. Situación del empleo (dependiente o independiente)</strong></p>
<p class="text-justify">La mayor parte de la población de la capital distrital de <span [appDataSource]="'section'" [fieldName]="'distritoSeleccionado'">{{ datos.distritoSeleccionado || 'Cahuacho' }}</span> se dedica a actividades agropecuarias, siendo la agricultura y la ganadería las principales fuentes de empleo independiente. En el sector agrícola, los cultivos predominantes son la papa, cebada, habas, trigo y oca, productos que abastecen tanto el consumo local como el comercio en menor medida. Asimismo, la ganadería juega un papel importante, con la crianza de vacunos y ovinos como las principales actividades ganaderas de la zona. Aunque en menor proporción, algunos pobladores también se dedican al comercio, complementando así su ingreso económico.</p>
<p class="text-justify">En cuanto al empleo dependiente, este sector es reducido y está conformado principalmente por trabajadores de la municipalidad distrital, quienes cumplen funciones administrativas y operativas; el personal de las instituciones educativas que ofrecen servicios de enseñanza en la localidad; y los empleados del puesto de salud que brindan atención básica a los habitantes. Este tipo de empleo proporciona estabilidad a un pequeño grupo de la población, pero no es la fuente principal de ingresos entre los habitantes. En general, el empleo independiente predomina como el principal medio de subsistencia para la mayoría de los pobladores.</p>

<p style="margin-top: 20px; margin-bottom: 10px;"><strong>b.2. Ingresos de la población</strong></p>
<p class="text-justify">Los ingresos de la población en la capital distrital de <span [appDataSource]="'section'" [fieldName]="'distritoSeleccionado'">{{ datos.distritoSeleccionado || 'Cahuacho' }}</span> están estrechamente relacionados con las actividades agropecuarias, las cuales constituyen la base económica de la localidad. La agricultura, en particular, proporciona una fuente regular de alimentos y productos que, en su mayoría, se destinan al autoconsumo, mientras que un porcentaje menor es comercializado. Los ingresos provenientes de la ganadería dependen de la venta de animales en pie, especialmente vacunos y ovinos, así como de productos derivados como el queso, el cual se vende a intermediarios. Sin embargo, las fluctuaciones en los precios del mercado, así como las limitaciones en infraestructura y acceso a mercados directos, afectan los ingresos de los habitantes, generando una inestabilidad económica.</p>
<p class="text-justify">Aquellos que trabajan de manera dependiente, como los empleados municipales, profesores y personal del puesto de salud, tienen ingresos más regulares. Sin embargo, debido a que este sector representa una pequeña proporción de la población, sus ingresos no son significativos en la economía general de la localidad, mucho menos del distrito. Además, el acceso a empleos dependientes es limitado y no logra cubrir las necesidades de una mayor parte de la población.</p>
<p class="text-justify">Adicionalmente, cabe mencionar que, según el informe del PNUD 2019, el distrito de <span [appDataSource]="'section'" [fieldName]="'distritoSeleccionado'">{{ datos.distritoSeleccionado || 'Cahuacho' }}</span> (jurisdicción que abarca al CP <span [appDataSource]="'section'">{{ datos.centroPobladoAISI || 'Cahuacho' }}</span>) cuenta con un ingreso familiar per cápita de S/. <span [appDataSource]="'section'">{{ getIngresoPerCapita() }}</span> mensuales, ocupando el puesto N°<span [appDataSource]="'section'">{{ getRankingIngreso() }}</span> en el ranking de dicha variable, lo que convierte a dicha jurisdicción en una de las que cuentan con menor ingreso familiar per cápita en todo el país.</p>

<p style="margin-top: 20px; margin-bottom: 10px;"><strong>b.3. Índice de Desempleo</strong></p>
<p class="text-justify">El índice de desempleo es un indicador clave para evaluar la salud económica de una jurisdicción de cualquier nivel, ya que refleja la proporción de la Población Económicamente Activa (PEA) que se encuentra en busca de empleo, pero no logra obtenerlo. En este ítem, se caracteriza el índice de desempleo del distrito de <span [appDataSource]="'section'" [fieldName]="'distritoSeleccionado'">{{ datos.distritoSeleccionado || 'Cahuacho' }}</span>, el cual abarca al CP <span [appDataSource]="'section'">{{ datos.centroPobladoAISI || 'Cahuacho' }}</span> (capital distrital). Para ello, se emplea la fuente "Resultados Definitivos de la Población Económicamente Activa 2017" del INEI, con el cual se puede visualizar las características demográficas de la población que forma parte de la PEA y distinguir entre sus subgrupos (Ocupada y Desocupada).</p>

<app-table-wrapper title="Conformación de la PEA Ocupada y Desocupada, según sexo – Distrito {{ datos.distritoSeleccionado || 'Cahuacho' }} (2017)" sectionId="3.1.4.B.1.2">
<table class="table-container">
    <thead>
        <tr>
            <th class="table-header">Categorías</th>
            <th class="table-header">Hombres</th>
            <th class="table-header">Porcentaje</th>
            <th class="table-header">Mujeres</th>
            <th class="table-header">Porcentaje</th>
            <th class="table-header">Casos</th>
            <th class="table-header">Porcentaje</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of getPeaOcupadaDesocupadaSinTotal()">
            <td class="table-cell cell-from-bd">{{ item.categoria || '0' }}</td>
            <td class="table-cell cell-from-bd">{{ item.hombres || '0' }}</td>
            <td class="table-cell cell-percentage">{{ item.porcentajeHombres || '0,00 %' }}</td>
            <td class="table-cell cell-from-bd">{{ item.mujeres || '0' }}</td>
            <td class="table-cell cell-percentage">{{ item.porcentajeMujeres || '0,00 %' }}</td>
            <td class="table-cell cell-from-bd">{{ item.casos || '0' }}</td>
            <td class="table-cell cell-percentage">{{ item.porcentaje || '0,00 %' }}</td>
        </tr>
        <tr *ngIf="getPeaOcupadaDesocupadaSinTotal().length > 0">
            <td class="table-cell"><strong>Total</strong></td>
            <td class="table-cell cell-from-bd"><strong>{{ getTotalPeaOcupadaDesocupadaHombres() }}</strong></td>
            <td class="table-cell cell-percentage"><strong>100,00 %</strong></td>
            <td class="table-cell cell-from-bd"><strong>{{ getTotalPeaOcupadaDesocupadaMujeres() }}</strong></td>
            <td class="table-cell cell-percentage"><strong>100,00 %</strong></td>
            <td class="table-cell cell-from-bd"><strong>{{ getTotalPeaOcupadaDesocupada() }}</strong></td>
            <td class="table-cell cell-percentage"><strong>100,00 %</strong></td>
        </tr>
        <tr *ngIf="getPeaOcupadaDesocupadaSinTotal().length === 0">
            <td class="table-cell">0</td>
            <td class="table-cell">0</td>
            <td class="table-cell">0,00 %</td>
            <td class="table-cell">0</td>
            <td class="table-cell">0,00 %</td>
            <td class="table-cell">0</td>
            <td class="table-cell">0,00 %</td>
        </tr>
    </tbody>
</table>
</app-table-wrapper>
<p class="source">FUENTE:<span [appDataSource]="'manual'" [fieldName]="'distritoSeleccionado'"> Resultados Definitivos de la PEA 2017 – INEI 2018</span></p>
<p class="text-justify">Del cuadro precedente, se halla que en el distrito de <span [appDataSource]="'section'" [fieldName]="'distritoSeleccionado'">{{ datos.distritoSeleccionado || 'Cahuacho' }}</span> la PEA Desocupada representa un <span class="data-calculated">{{ getPorcentajeDesempleo() }}</span> del total de la PEA. En adición a ello, se aprecia que tanto hombres como mujeres se encuentran predominantemente en el indicador de PEA Ocupada, con porcentajes de <span class="data-calculated">{{ getPorcentajeHombresOcupados() }}</span> y <span class="data-calculated">{{ getPorcentajeMujeresOcupadas() }}</span>, respectivamente.</p>


<app-image-upload
    [modoVista]="true"
    [permitirMultiples]="true"
    [fotografias]="getFotografiasVista()"
    [sectionId]="seccionId"
    [photoPrefix]="PHOTO_PREFIX"
    [labelTitulo]="'Título'"
    [labelFuente]="'Fuente'"
    [labelImagen]="'Imagen'">
</app-image-upload>
</div>

<div *ngIf="modoFormulario" class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">B.1.2. Indicadores y distribución de la Población Económicamente Activa</h4>
    
    <div class="form-group-section" style="margin-top: 20px;">
      <h4 class="section-title">a. Población en edad de trabajar (PET)</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoPET_AISI"
          label="PET - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoPET_AISI()"
          (valueChange)="onFieldChange('textoPET_AISI', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Tabla PET según grupos de edad</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="petGruposEdadConfig"
          [columns]="[
            { field: 'categoria', label: 'Categoría', type: 'text', placeholder: 'Ej: 14 a 29 años' },
            { field: 'casos', label: 'Casos', type: 'number', placeholder: '0' },
            { field: 'porcentaje', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true }
          ]"
          [tablaKey]="'petGruposEdadAISI'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onPetGruposEdadFieldChange.bind(this)"
          (tableUpdated)="onPetGruposEdadTableUpdated()">
        </app-dynamic-table>

        <div class="table-editor" style="margin-top: 10px; padding: 10px; background-color: #f9f9f9; border: 1px solid #ddd;">
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; align-items: center;">
            <div>
              <label class="label">Categoría</label>
              <input type="text" class="input" value="Total" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Casos</label>
              <input type="text" class="input" [value]="getTotalPetGruposEdad()" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Porcentaje</label>
              <input type="text" class="input" value="100,00 %" readonly style="background-color: #e8e8e8;">
            </div>
          </div>
        </div>
      </div>

      <div class="form-group-section" style="margin-top: 20px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoIndicadoresDistritalesAISI"
          label="Indicadores Distritales - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoIndicadoresDistritalesAISI()"
          (valueChange)="onFieldChange('textoIndicadoresDistritalesAISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">b. Población Económicamente Activa (PEA)</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoPEA_AISI"
          label="PEA - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoPEA_AISI()"
          (valueChange)="onFieldChange('textoPEA_AISI', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Tabla PEA y No PEA según sexo</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="peaDistritoSexoConfig"
          [columns]="[
            { field: 'categoria', label: 'Categorías', type: 'text', placeholder: 'Ej: PEA' },
            { field: 'hombres', label: 'Hombres', type: 'number', placeholder: '0' },
            { field: 'porcentajeHombres', label: 'Porcentaje', type: 'text', placeholder: '0,00 %' },
            { field: 'mujeres', label: 'Mujeres', type: 'number', placeholder: '0' },
            { field: 'porcentajeMujeres', label: 'Porcentaje', type: 'text', placeholder: '0,00 %' },
            { field: 'casos', label: 'Casos', type: 'number', placeholder: '0' },
            { field: 'porcentaje', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true }
          ]"
          [tablaKey]="'peaDistritoSexoTabla'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onPEADistritoSexoFieldChange.bind(this)"
          (tableUpdated)="onPEADistritoSexoTableUpdated()">
        </app-dynamic-table>

        <div class="table-editor" style="margin-top: 10px; padding: 10px; background-color: #f9f9f9; border: 1px solid #ddd;">
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr; gap: 10px; align-items: center;">
            <div>
              <label class="label">Categorías</label>
              <input type="text" class="input" value="Total" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Hombres</label>
              <input type="text" class="input" [value]="getTotalPeaDistritoSexoHombres()" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Porcentaje</label>
              <input type="text" class="input" value="100,00 %" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Mujeres</label>
              <input type="text" class="input" [value]="getTotalPeaDistritoSexoMujeres()" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Porcentaje</label>
              <input type="text" class="input" value="100,00 %" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Casos</label>
              <input type="text" class="input" [value]="getTotalPeaDistritoSexo()" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Porcentaje</label>
              <input type="text" class="input" value="100,00 %" readonly style="background-color: #e8e8e8;">
            </div>
          </div>
        </div>
      </div>

      <div class="form-group-section" style="margin-top: 20px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoAnalisisPEA_AISI"
          label="Análisis PEA - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoAnalisisPEA_AISI()"
          (valueChange)="onFieldChange('textoAnalisisPEA_AISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">b.1. Situación del empleo (dependiente o independiente)</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoEmpleoAISI"
          label="Situación del empleo - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="6"
          [value]="obtenerTextoEmpleoAISI()"
          (valueChange)="onFieldChange('textoEmpleoAISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">b.2. Ingresos de la población</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoIngresosAISI"
          label="Ingresos de la población - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="8"
          [value]="obtenerTextoIngresosAISI()"
          (valueChange)="onFieldChange('textoIngresosAISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">b.3. Índice de Desempleo</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoIndiceDesempleoAISI"
          label="Índice de Desempleo - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoIndiceDesempleoAISI()"
          (valueChange)="onFieldChange('textoIndiceDesempleoAISI', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Tabla PEA Ocupada y Desocupada según sexo</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="peaOcupadaDesocupadaConfig"
          [columns]="[
            { field: 'categoria', label: 'Categorías', type: 'text', placeholder: 'Ej: PEA Ocupada' },
            { field: 'hombres', label: 'Hombres', type: 'number', placeholder: '0' },
            { field: 'porcentajeHombres', label: 'Porcentaje', type: 'text', placeholder: '0,00 %' },
            { field: 'mujeres', label: 'Mujeres', type: 'number', placeholder: '0' },
            { field: 'porcentajeMujeres', label: 'Porcentaje', type: 'text', placeholder: '0,00 %' },
            { field: 'casos', label: 'Casos', type: 'number', placeholder: '0' },
            { field: 'porcentaje', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true }
          ]"
          [tablaKey]="'peaOcupadaDesocupadaTabla'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onPEAOcupadaDesocupadaFieldChange.bind(this)"
          (tableUpdated)="onPEAOcupadaDesocupadaTableUpdated()">
        </app-dynamic-table>

        <div class="table-editor" style="margin-top: 10px; padding: 10px; background-color: #f9f9f9; border: 1px solid #ddd;">
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr; gap: 10px; align-items: center;">
            <div>
              <label class="label">Categorías</label>
              <input type="text" class="input" value="Total" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Hombres</label>
              <input type="text" class="input" [value]="getTotalPeaOcupadaDesocupadaHombres()" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Porcentaje</label>
              <input type="text" class="input" value="100,00 %" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Mujeres</label>
              <input type="text" class="input" [value]="getTotalPeaOcupadaDesocupadaMujeres()" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Porcentaje</label>
              <input type="text" class="input" value="100,00 %" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Casos</label>
              <input type="text" class="input" [value]="getTotalPeaOcupadaDesocupada()" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Porcentaje</label>
              <input type="text" class="input" value="100,00 %" readonly style="background-color: #e8e8e8;">
            </div>
          </div>
        </div>
      </div>

      <div class="form-group-section" style="margin-top: 20px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoPEAAISI"
          label="Análisis PEA Ocupada y Desocupada - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoPEAAISI()"
          (valueChange)="onFieldChange('textoPEAAISI', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">Datos Adicionales</h4>
      
      <div class="form-row" style="margin-top: 15px;">
        <div class="form-field">
          <label class="label">Población distrital</label>
          <input type="number" class="input" 
            [value]="datos['poblacionDistritalAISI'] || ''"
            (input)="onFieldChange('poblacionDistritalAISI', $any($event.target).value)"
            placeholder="Ej: 610">
        </div>

        <div class="form-field">
          <label class="label">PET distrital (14 años a más)</label>
          <input type="number" class="input" 
            [value]="datos['petDistritalAISI'] || ''"
            (input)="onFieldChange('petDistritalAISI', $any($event.target).value)"
            placeholder="Ej: 461">
        </div>
      </div>

      <div class="form-row" style="margin-top: 15px;">
        <div class="form-field">
          <label class="label">Ingreso familiar per cápita (S/.)</label>
          <input type="text" class="input" 
            [value]="datos['ingresoPerCapitaAISI'] || ''"
            (input)="onFieldChange('ingresoPerCapitaAISI', $any($event.target).value)"
            placeholder="Ej: 391,06">
        </div>

        <div class="form-field">
          <label class="label">Ranking de ingreso</label>
          <input type="number" class="input" 
            [value]="datos['rankingIngresoAISI'] || ''"
            (input)="onFieldChange('rankingIngresoAISI', $any($event.target).value)"
            placeholder="Ej: 1191">
        </div>
      </div>
    </div>

    <div class="form-field" style="margin-top: 30px;">
      <label class="label">Fotografías de PEA</label>
      <app-image-upload
        [fotografias]="fotografiasFormMulti"
        [sectionId]="seccionId"
        [photoPrefix]="PHOTO_PREFIX"
        [permitirMultiples]="true"
        labelTitulo="Título de la fotografía"
        labelFuente="Fuente de la fotografía"
        labelImagen="Fotografía - Imagen"
        placeholderTitulo="Ej: Actividad económica del CP"
        placeholderFuente="Ej: GEADES, 2024"
        tituloDefault="Población Económicamente Activa del CP"
        fuenteDefault="GEADES, 2024"
        [requerido]="false"
        (fotografiasChange)="onFotografiasPEAChange($event)">
      </app-image-upload>
    </div>
  </div>
</div>
