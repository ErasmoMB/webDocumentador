<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">{{ SECCION26_TEMPLATES.tituloSeccion }}</h4>
    
    <div class="form-group-section" style="margin-top: 20px;">
      <h4 class="section-title">{{ SECCION26_TEMPLATES.labelEditarParrafos }}</h4>
      
      <app-paragraph-editor
        fieldId="textoIntroServiciosBasicosAISI"
        [label]="SECCION26_TEMPLATES.labelParrafoIntro"
        [rows]="4"
        [value]="viewModel().textoIntro"
        (valueChange)="onFieldChange(getKeyTextoIntro(), $event)">
      </app-paragraph-editor>
    </div>

    <!-- a. Servicios de agua -->
    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION26_TEMPLATES.titulSeccionA }}</h4>
      <app-paragraph-editor fieldId="textoServiciosAguaAISI" [label]="SECCION26_TEMPLATES.labelParrafoServicios" [rows]="4" [value]="viewModel().textoServiciosAgua" (valueChange)="onFieldChange(getKeyTextoServiciosAgua(), $event)"></app-paragraph-editor>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelCuadroTitulo }}</label>
        <input type="text" class="input" [value]="viewModel().cuadroTituloAbastecimiento" (change)="onFieldChange('cuadroTituloAbastecimiento', $any($event.target).value)" [placeholder]="SECCION26_TEMPLATES.placeholderCuadroTitulo" />
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelTablaAbastecimiento }}</label>
        <app-dynamic-table 
          [datos]="formDataSignal()" 
          [sectionId]="seccionId" 
          [config]="abastecimientoConfig" 
          [columns]="[ { field: 'categoria', label: 'Categoría', type: 'text' }, { field: 'casos', label: 'Casos', type: 'number' }, { field: 'porcentaje', label: 'Porcentaje', type: 'text', readonly: true } ]" 
          [tablaKey]="'abastecimientoAguaCpTabla' + obtenerPrefijo()" 
          [totalKey]="'categoria'" 
          [customFieldChangeHandler]="onAbastecimientoAguaFieldChange.bind(this)" 
          (tableUpdated)="onAbastecimientoAguaTableUpdated()" 
        >
        </app-dynamic-table>
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelCuadroFuente }}</label>
        <input type="text" class="input" [value]="viewModel().cuadroFuenteAbastecimiento" (change)="onFieldChange('cuadroFuenteAbastecimiento', $any($event.target).value)" [placeholder]="SECCION26_TEMPLATES.placeholderCuadroFuente" />
      </div>
    </div>

    <!-- b. Servicios básicos de desagüe -->
    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION26_TEMPLATES.titulSeccionB }}</h4>
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION26_TEMPLATES.labelEditarParrafos }}</h4>
        <app-paragraph-editor fieldId="textoDesagueCP" [label]="SECCION26_TEMPLATES.labelParrafoDesague" [rows]="6" [value]="viewModel().textoDesague" (valueChange)="onFieldChange(getKeyTextoDesague(), $event)"></app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelCuadroTitulo }}</label>
        <input type="text" class="input" [value]="viewModel().cuadroTituloSaneamiento" (change)="onFieldChange('cuadroTituloSaneamiento', $any($event.target).value)" [placeholder]="SECCION26_TEMPLATES.placeholderCuadroTitulo" />
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelTablaSaneamiento }}</label>
        <app-dynamic-table 
          [datos]="formDataSignal()" 
          [sectionId]="seccionId" 
          [config]="saneamientoConfig" 
          [columns]="[ { field: 'categoria', label: 'Categoría', type: 'text' }, { field: 'casos', label: 'Casos', type: 'number' }, { field: 'porcentaje', label: 'Porcentaje', type: 'text', readonly: true } ]" 
          [tablaKey]="'saneamientoCpTabla' + obtenerPrefijo()" 
          [totalKey]="'categoria'" 
          [customFieldChangeHandler]="onSaneamientoFieldChange.bind(this)" 
          (tableUpdated)="onSaneamientoTableUpdated()" 
        >
        </app-dynamic-table>
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelCuadroFuente }}</label>
        <input type="text" class="input" [value]="viewModel().cuadroFuenteSaneamiento" (change)="onFieldChange('cuadroFuenteSaneamiento', $any($event.target).value)" [placeholder]="SECCION26_TEMPLATES.placeholderCuadroFuente" />
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelFotosDesechos }}</label>
        <app-image-upload 
          [fotografias]="fotosDesechosSignal()" 
          [sectionId]="seccionId" 
          [photoPrefix]="photoPrefixSignalDesechos()" 
          [permitirMultiples]="true" 
          [labelTitulo]="SECCION26_TEMPLATES.labelFotoTitulo" 
          [labelFuente]="SECCION26_TEMPLATES.labelFotoFuente" 
          [labelImagen]="SECCION26_TEMPLATES.labelFotoImagen" 
          [placeholderTitulo]="SECCION26_TEMPLATES.placeholderFotoTituloDesechos" 
          [placeholderFuente]="SECCION26_TEMPLATES.placeholderFotoFuente" 
          [tituloDefault]="SECCION26_TEMPLATES.tituloFotoDesechosDefault" 
          [fuenteDefault]="SECCION26_TEMPLATES.fuenteFotoDefault" 
          [requerido]="false" 
          (fotografiasChange)="onFotografiasDesechosChange($event)">
        </app-image-upload>
      </div>
    </div>

    <!-- c. Gestión y destino de los desechos sólidos -->
    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION26_TEMPLATES.titulSeccionC }}</h4>
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION26_TEMPLATES.labelEditarParrafos }}</h4>
        <app-paragraph-editor fieldId="textoDesechosSolidosCP" [label]="SECCION26_TEMPLATES.labelParrafoDesechos" [rows]="6" [value]="viewModel().textoDesechos" (valueChange)="onFieldChange(getKeyTextoDesechos(), $event)"></app-paragraph-editor>
      </div>
    </div>

    <!-- d. Electricidad -->
    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION26_TEMPLATES.titulSeccionD }}</h4>
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION26_TEMPLATES.labelEditarParrafos }}</h4>
        <app-paragraph-editor fieldId="textoElectricidadCP" [label]="SECCION26_TEMPLATES.labelParrafoElectricidad" [rows]="4" [value]="viewModel().textoElectricidad" (valueChange)="onFieldChange(getKeyTextoElectricidad(), $event)"></app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelCuadroTitulo }}</label>
        <input type="text" class="input" [value]="viewModel().cuadroTituloCobertura" (change)="onFieldChange('cuadroTituloCobertura', $any($event.target).value)" [placeholder]="SECCION26_TEMPLATES.placeholderCuadroTitulo" />
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelTablaCobertura }}</label>
        <app-dynamic-table 
          [datos]="formDataSignal()" 
          [sectionId]="seccionId" 
          [config]="coberturaConfig" 
          [columns]="[ { field: 'categoria', label: 'Categoría', type: 'text' }, { field: 'casos', label: 'Casos', type: 'number' }, { field: 'porcentaje', label: 'Porcentaje', type: 'text', readonly: true } ]" 
          [tablaKey]="'coberturaElectricaCpTabla' + obtenerPrefijo()" 
          [totalKey]="'categoria'" 
          [customFieldChangeHandler]="onCoberturaElectricaFieldChange.bind(this)" 
          (tableUpdated)="onCoberturaElectricaTableUpdated()" 
        >
        </app-dynamic-table>
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelCuadroFuente }}</label>
        <input type="text" class="input" [value]="viewModel().cuadroFuenteCobertura" (change)="onFieldChange('cuadroFuenteCobertura', $any($event.target).value)" [placeholder]="SECCION26_TEMPLATES.placeholderCuadroFuente" />
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelFotosElectricidad }}</label>
        <app-image-upload 
          [fotografias]="fotosElectricidadSignal()" 
          [sectionId]="seccionId" 
          [photoPrefix]="photoPrefixSignalElectricidad()" 
          [permitirMultiples]="true" 
          [labelTitulo]="SECCION26_TEMPLATES.labelFotoTitulo" 
          [labelFuente]="SECCION26_TEMPLATES.labelFotoFuente" 
          [labelImagen]="SECCION26_TEMPLATES.labelFotoImagen" 
          [placeholderTitulo]="SECCION26_TEMPLATES.placeholderFotoTituloElectricidad" 
          [placeholderFuente]="SECCION26_TEMPLATES.placeholderFotoFuente" 
          [tituloDefault]="SECCION26_TEMPLATES.tituloFotoElectricidadDefault" 
          [fuenteDefault]="SECCION26_TEMPLATES.fuenteFotoDefault" 
          [requerido]="false" 
          (fotografiasChange)="onFotografiasElectricidadChange($event)">
        </app-image-upload>
      </div>
    </div>

    <!-- e. Energía para cocinar -->
    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION26_TEMPLATES.titulSeccionE }}</h4>
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION26_TEMPLATES.labelEditarParrafos }}</h4>
        <app-paragraph-editor fieldId="textoEnergiaCocinarCP" [label]="SECCION26_TEMPLATES.labelParrafoCocinar" [rows]="4" [value]="viewModel().textoCocinar" (valueChange)="onFieldChange(getKeyTextoEnergiaCocinar(), $event)"></app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelCuadroTitulo }}</label>
        <input type="text" class="input" [value]="viewModel().cuadroTituloCombustibles" (change)="onFieldChange('cuadroTituloCombustibles', $any($event.target).value)" [placeholder]="SECCION26_TEMPLATES.placeholderCuadroTitulo" />
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelTablaCombustibles }}</label>
        <app-dynamic-table 
          [datos]="formDataSignal()" 
          [sectionId]="seccionId" 
          [config]="combustiblesConfig" 
          [columns]="[ { field: 'categoria', label: 'Categoría', type: 'text' }, { field: 'casos', label: 'Casos', type: 'number' }, { field: 'porcentaje', label: 'Porcentaje', type: 'text', readonly: true } ]" 
          [tablaKey]="'combustiblesCocinarCpTabla' + obtenerPrefijo()" 
          [totalKey]="'categoria'" 
          [customFieldChangeHandler]="onCombustiblesCocinarFieldChange.bind(this)" 
          (tableUpdated)="onCombustiblesCocinarTableUpdated()" 
        >
        </app-dynamic-table>
      </div>

      <div class="form-field" style="margin-top: 10px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelCuadroFuente }}</label>
        <input type="text" class="input" [value]="viewModel().cuadroFuenteCombustibles" (change)="onFieldChange('cuadroFuenteCombustibles', $any($event.target).value)" [placeholder]="SECCION26_TEMPLATES.placeholderCuadroFuente" />
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">{{ SECCION26_TEMPLATES.labelFotosCocinar }}</label>
        <app-image-upload 
          [fotografias]="fotosCocinarSignal()" 
          [sectionId]="seccionId" 
          [photoPrefix]="photoPrefixSignalCocinar()" 
          [permitirMultiples]="true" 
          [labelTitulo]="SECCION26_TEMPLATES.labelFotoTitulo" 
          [labelFuente]="SECCION26_TEMPLATES.labelFotoFuente" 
          [labelImagen]="SECCION26_TEMPLATES.labelFotoImagen" 
          [placeholderTitulo]="SECCION26_TEMPLATES.placeholderFotoTituloCocinar" 
          [placeholderFuente]="SECCION26_TEMPLATES.placeholderFotoFuente" 
          [tituloDefault]="SECCION26_TEMPLATES.tituloFotoCocinarDefault" 
          [fuenteDefault]="SECCION26_TEMPLATES.fuenteFotoDefault" 
          [requerido]="false" 
          (fotografiasChange)="onFotografiasCocinarChange($event)">
        </app-image-upload>
      </div>
    </div>

  </div>
</div>
