<div *ngIf="!modoFormulario">
<h5>B.1.5. Servicios básicos: Agua y desagüe; electricidad, energía y/o combustible; y disposición de residuos sólidos</h5>
<div *ngIf="datos.textoIntroServiciosBasicosAISI && datos.textoIntroServiciosBasicosAISI !== '____'" class="text-justify" [innerHTML]="formatearParrafo(datos.textoIntroServiciosBasicosAISI)"></div>
<div *ngIf="!datos.textoIntroServiciosBasicosAISI || datos.textoIntroServiciosBasicosAISI === '____'">
  <p class="text-justify">Los servicios básicos nos indican el nivel de desarrollo de una comunidad y un saneamiento deficiente va asociado a la transmisión de enfermedades como el cólera, la diarrea, la disentería, la hepatitis A, la fiebre tifoidea y la poliomielitis, y agrava el retraso del crecimiento.</p>
  <p class="text-justify">En 2010, la Asamblea General de las Naciones Unidas reconoció que el acceso al agua potable salubre y limpia, y al saneamiento es un derecho humano y pidió que se realizaran esfuerzos internacionales para ayudar a los países a proporcionar agua potable e instalaciones de saneamiento salubres, limpias, accesibles y asequibles. Los servicios básicos serán descritos a continuación tomando como referencia al total de viviendas ocupadas presentes (<span [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'viviendas'">{{ getViviendasOcupadasPresentes() }}</span>), tal como realiza el Censo Nacional 2017.</p>
</div>

<p style="margin-top: 20px; margin-bottom: 10px;"><strong>a. Servicios de agua</strong></p>
<p class="text-justify" *ngIf="datos.textoServiciosAguaAISI && datos.textoServiciosAguaAISI !== '____'">{{ datos.textoServiciosAguaAISI }}</p>
<p class="text-justify" *ngIf="!datos.textoServiciosAguaAISI || datos.textoServiciosAguaAISI === '____'">Respecto al servicio de agua para consumo humano en el CP <span [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'textoServiciosAguaAISI'">{{ datos.centroPobladoAISI || 'Cahuacho' }}</span>, se cuenta con cobertura de dicho recurso en las viviendas. Es así que, según los Censos Nacionales 2017, un <span [appDataSource]="'section'" class="cell-percentage">{{ getPorcentajeAguaRedPublicaDentro() }}</span> de las viviendas cuenta con red pública dentro de la misma. El porcentaje restante (<span [appDataSource]="'section'" class="cell-percentage">{{ getPorcentajeAguaRedPublicaFuera() }}</span>) consta de red pública fuera de la vivienda, pero dentro de la edificación.</p>

<app-table-wrapper title="Tipos de abastecimiento de agua en las viviendas – CP {{ datos.centroPobladoAISI || 'Cahuacho' }} (2017)" sectionId="3.1.4.B.1.5">
<table class="table-container">
    <thead>
        <tr>
            <th class="table-header">Categoría</th>
            <th class="table-header">Casos</th>
            <th class="table-header">Porcentaje</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of getAbastecimientoAguaSinTotal()">
            <td class="table-cell cell-from-bd" [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'tipo'">{{ item.tipo || '____' }}</td>
            <td class="table-cell cell-from-bd" [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'casos'">{{ item.casos || '____' }}</td>
            <td class="table-cell cell-percentage" [appDataSource]="'section'" [fieldName]="'porcentaje'">{{ item.porcentaje || '____' }}</td>
        </tr>
        <tr *ngIf="getAbastecimientoAguaSinTotal().length > 0">
            <td class="table-cell"><strong>Total</strong></td>
            <td class="table-cell cell-from-bd"><strong>{{ getTotalAbastecimientoAgua() }}</strong></td>
            <td class="table-cell cell-percentage"><strong>100,00 %</strong></td>
        </tr>
        <tr *ngIf="getAbastecimientoAguaSinTotal().length === 0">
            <td class="table-cell">____</td>
            <td class="table-cell">____</td>
            <td class="table-cell">____</td>
        </tr>
    </tbody>
</table>
</app-table-wrapper>
<p class="source">FUENTE:<span [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'textoDesagueCP'"> Censos Nacionales 2017: XII de Población, VII de Vivienda y III de Comunidades Indígenas.</span></p>

<p style="margin-top: 20px; margin-bottom: 10px;"><strong>b. Servicios básicos de desagüe</strong></p>
<p class="text-justify" *ngIf="datos.textoDesagueCP && datos.textoDesagueCP !== '____'">{{ datos.textoDesagueCP }}</p>
<p class="text-justify" *ngIf="!datos.textoDesagueCP || datos.textoDesagueCP === '____'">Respecto al servicio de saneamiento en las viviendas de la capital distrital de <span [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'distritoSeleccionado'">{{ datos.centroPobladoAISI || 'Cahuacho' }}</span>, se cuenta con una amplia cobertura de dicho servicio. Es así que, según los Censos Nacionales 2017, un 81,63 % de las viviendas cuenta con red pública de desagüe dentro de las mismas. Adicionalmente, un 10,20 % cuenta con pozo séptico, tanque séptico o biodigestor.</p>
<p class="text-justify" *ngIf="!datos.textoDesagueCP || datos.textoDesagueCP === '____'">Por otra parte, se hallan otras categorías con porcentajes menores: red pública de desagüe fuera de la vivienda, pero dentro de la edificación; letrina (con tratamiento); pozo ciego o negro; y campo abierto o al aire libre, todas las cuales representan un 2,04 % cada una.</p>

<app-table-wrapper title="Tipos de saneamiento en las viviendas – CP {{ datos.centroPobladoAISI || 'Cahuacho' }} (2017)" sectionId="3.1.4.B.1.5">
<table class="table-container">
    <thead>
        <tr>
            <th class="table-header">Categoría</th>
            <th class="table-header">Casos</th>
            <th class="table-header">Porcentaje</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of getSaneamientoSinTotal()">
            <td class="table-cell cell-from-bd" [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'tipo'">{{ item.tipo || '____' }}</td>
            <td class="table-cell cell-from-bd" [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'casos'">{{ item.casos || '____' }}</td>
            <td class="table-cell cell-percentage" [appDataSource]="'section'" [fieldName]="'porcentaje'">{{ item.porcentaje || '____' }}</td>
        </tr>
        <tr *ngIf="getSaneamientoSinTotal().length > 0">
            <td class="table-cell"><strong>Total</strong></td>
            <td class="table-cell cell-from-bd"><strong>{{ getTotalSaneamiento() }}</strong></td>
            <td class="table-cell cell-percentage"><strong>100,00 %</strong></td>
        </tr>
        <tr *ngIf="getSaneamientoSinTotal().length === 0">
            <td class="table-cell">____</td>
            <td class="table-cell">____</td>
            <td class="table-cell">____</td>
        </tr>
    </tbody>
</table>
</app-table-wrapper>
<p class="source">FUENTE:<span [appDataSource]="'centroPobladoAISI' | dataSource"> Censos Nacionales 2017: XII de Población, VII de Vivienda y III de Comunidades Indígenas.</span></p>

<app-image-upload
    [modoVista]="true"
    [permitirMultiples]="true"
    [fotografias]="getFotografiasDesechosVista()"
    [sectionId]="seccionId"
    [photoPrefix]="PHOTO_PREFIX_DESECHOS"
    [labelTitulo]="'Título'"
    [labelFuente]="'Fuente'"
    [labelImagen]="'Imagen'">
</app-image-upload>

<p style="margin-top: 20px; margin-bottom: 10px;"><strong>c. Gestión y destino de los desechos sólidos</strong></p>
<p class="text-justify" *ngIf="datos.textoDesechosSolidosCP && datos.textoDesechosSolidosCP !== '____'">{{ datos.textoDesechosSolidosCP }}</p>
<p class="text-justify" *ngIf="!datos.textoDesechosSolidosCP || datos.textoDesechosSolidosCP === '____'">La gestión de los desechos sólidos está a cargo de la Municipalidad Distrital de <span [appDataSource]="'distritoSeleccionado' | dataSource" [fieldName]="'distritoSeleccionado'">{{ datos.distritoSeleccionado || 'Cahuacho' }}</span>, aunque según los entrevistados, la recolección se realiza de manera mensual, en promedio. En ese sentido, no existe una fecha establecida en la que la municipalidad gestione los desechos sólidos. Adicional a ello, las limitaciones en cuanto a infraestructura adecuada para el tratamiento de desechos sólidos generan algunos retos en la gestión eficiente de los mismos.</p>
<p class="text-justify" *ngIf="!datos.textoDesechosSolidosCP || datos.textoDesechosSolidosCP === '____'">Cuando los desechos sólidos son recolectados, estos son trasladados a un botadero cercano a la capital distrital, donde se realiza su disposición final. La falta de un sistema más avanzado para el tratamiento de los residuos, como plantas de reciclaje o de tratamiento, dificulta el manejo integral de los desechos y plantea preocupaciones ambientales a largo plazo. Además, la comunidad enfrenta desafíos derivados de la acumulación de basura en ciertos puntos, especialmente en épocas en que la recolección es menos frecuente. Ante ello, la misma población acude al botadero para disponer sus residuos sólidos, puesto que está prohibida la incineración. Cabe mencionar que sí existen puntos dentro del CP <span [appDataSource]="'section'" [fieldName]="'textoDesechosSolidosCP'">{{ datos.centroPobladoAISI || 'Cahuacho' }}</span> en donde la población puede disponer sus desechos plásticos como botellas, aunque estos tampoco son recolectados frecuentemente por el personal de la municipalidad.</p>

<p style="margin-top: 20px; margin-bottom: 10px;"><strong>d. Electricidad</strong></p>
<p class="text-justify" *ngIf="datos.textoElectricidadCP && datos.textoElectricidadCP !== '____'">{{ datos.textoElectricidadCP }}</p>
<p class="text-justify" *ngIf="!datos.textoElectricidadCP || datos.textoElectricidadCP === '____'">Se puede apreciar una amplia cobertura de alumbrado eléctrico en las viviendas del centro poblado en cuestión. Según los Censos Nacionales 2017, se cuenta con los siguientes datos: el <span [appDataSource]="'section'" class="cell-percentage">{{ getPorcentajeElectricidadSi() }}</span> de las viviendas cuenta con alumbrado eléctrico, mientras que el <span [appDataSource]="'section'" class="cell-percentage">{{ getPorcentajeElectricidadNo() }}</span> restante no tiene el referido servicio.</p>

<app-table-wrapper title="Cobertura de alumbrado eléctrico en las viviendas – CP {{ datos.centroPobladoAISI || 'Cahuacho' }} (2017)" sectionId="3.1.4.B.1.5">
<table class="table-container">
    <thead>
        <tr>
            <th class="table-header">Categoría</th>
            <th class="table-header">Casos</th>
            <th class="table-header">Porcentaje</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of getCoberturaElectricaSinTotal()">
            <td class="table-cell cell-from-bd" [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'tipo'">{{ item.tipo || '____' }}</td>
            <td class="table-cell cell-from-bd" [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'casos'">{{ item.casos || '____' }}</td>
            <td class="table-cell cell-percentage" [appDataSource]="'section'" [fieldName]="'porcentaje'">{{ item.porcentaje || '____' }}</td>
        </tr>
        <tr *ngIf="getCoberturaElectricaSinTotal().length > 0">
            <td class="table-cell"><strong>Total</strong></td>
            <td class="table-cell cell-from-bd"><strong>{{ getTotalCoberturaElectrica() }}</strong></td>
            <td class="table-cell cell-percentage"><strong>100,00 %</strong></td>
        </tr>
        <tr *ngIf="getCoberturaElectricaSinTotal().length === 0">
            <td class="table-cell">____</td>
            <td class="table-cell">____</td>
            <td class="table-cell">____</td>
        </tr>
    </tbody>
</table>
</app-table-wrapper>
<p class="source">FUENTE:<span [appDataSource]="'centroPobladoAISI' | dataSource"> Censos Nacionales 2017: XII de Población, VII de Vivienda y III de Comunidades Indígenas.</span></p>

<app-image-upload
    [modoVista]="true"
    [permitirMultiples]="true"
    [fotografias]="getFotografiasElectricidadVista()"
    [sectionId]="seccionId"
    [photoPrefix]="PHOTO_PREFIX_ELECTRICIDAD"
    [labelTitulo]="'Título'"
    [labelFuente]="'Fuente'"
    [labelImagen]="'Imagen'">
</app-image-upload>

<p style="margin-top: 20px; margin-bottom: 10px;"><strong>e. Energía para cocinar</strong></p>
<p class="text-justify" *ngIf="datos.textoEnergiaCocinarCP && datos.textoEnergiaCocinarCP !== '____'">{{ datos.textoEnergiaCocinarCP }}</p>
<p class="text-justify" *ngIf="!datos.textoEnergiaCocinarCP || datos.textoEnergiaCocinarCP === '____'">Según los Censos Nacionales 2017, de un total de <span [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'textoEnergiaCocinarCP'">{{ getTotalHogares() }}</span> hogares en el CP <span [appDataSource]="'centroPobladoAISI' | dataSource">{{ datos.centroPobladoAISI || 'Cahuacho' }}</span>, se obtiene que un <span [appDataSource]="'section'" class="cell-percentage">{{ getPorcentajeLena() }}</span> emplea la leña. En menor medida, se emplean otros combustibles como el gas (balón GLP) en un <span [appDataSource]="'section'" class="cell-percentage">{{ getPorcentajeGas() }}</span>, la bosta o estiércol en un <span [appDataSource]="'section'" class="cell-percentage">{{ getPorcentajeBosta() }}</span> y la electricidad con un <span [appDataSource]="'section'" class="cell-percentage">{{ getPorcentajeElectricidadCocinar() }}</span>. Cabe mencionar que los hogares pueden emplear más de un tipo de combustible para la cocción de los alimentos.</p>

<app-table-wrapper title="Combustibles para cocción en los hogares – CP {{ datos.centroPobladoAISI || 'Cahuacho' }} (2017)" sectionId="3.1.4.B.1.5">
<table class="table-container">
    <thead>
        <tr>
            <th class="table-header">Categoría</th>
            <th class="table-header">Casos</th>
            <th class="table-header">Porcentaje</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let item of getCombustiblesCocinarSinTotal()">
            <td class="table-cell cell-from-bd" [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'nombre'">{{ item.nombre || '____' }}</td>
            <td class="table-cell cell-from-bd" [appDataSource]="'centroPobladoAISI' | dataSource" [fieldName]="'casos'">{{ item.casos || '____' }}</td>
            <td class="table-cell cell-percentage" [appDataSource]="'section'" [fieldName]="'porcentaje'">{{ item.porcentaje || '____' }}</td>
        </tr>
        <tr *ngIf="getCombustiblesCocinarSinTotal().length > 0">
            <td class="table-cell"><strong>Total</strong></td>
            <td class="table-cell cell-from-bd"><strong>{{ getTotalCombustiblesCocinar() }}</strong></td>
            <td class="table-cell cell-percentage"><strong>100,00 %</strong></td>
        </tr>
        <tr *ngIf="getCombustiblesCocinarSinTotal().length === 0">
            <td class="table-cell">____</td>
            <td class="table-cell">____</td>
            <td class="table-cell">____</td>
        </tr>
    </tbody>
</table>
</app-table-wrapper>
<p class="source">FUENTE:<span [appDataSource]="'manual'"> Censos Nacionales 2017: XII de Población, VII de Vivienda y III de Comunidades Indígenas.</span></p>

<app-image-upload
    [modoVista]="true"
    [permitirMultiples]="true"
    [fotografias]="getFotografiasCocinarVista()"
    [sectionId]="seccionId"
    [photoPrefix]="PHOTO_PREFIX_COCINAR"
    [labelTitulo]="'Título'"
    [labelFuente]="'Fuente'"
    [labelImagen]="'Imagen'">
</app-image-upload>
</div>

<div *ngIf="modoFormulario" class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">B.1.5. Servicios básicos: Agua y desagüe; electricidad, energía y/o combustible; y disposición de residuos sólidos</h4>
    
    <div class="form-group-section" style="margin-top: 20px;">
      <h4 class="section-title">Editar Párrafos</h4>
      
      <app-paragraph-editor
        fieldId="textoIntroServiciosBasicosAISI"
        label="Servicios Básicos - Introducción - Texto Completo"
        hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
        [rows]="4"
        [value]="obtenerTextoIntroServiciosBasicosAISI()"
        (valueChange)="onFieldChange('textoIntroServiciosBasicosAISI', $event)">
      </app-paragraph-editor>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">a. Servicios de agua</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoServiciosAguaAISI"
          label="Servicios de Agua - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoServiciosAguaAISI()"
          (valueChange)="onFieldChange('textoServiciosAguaAISI', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Tabla Tipos de abastecimiento de agua en las viviendas</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="abastecimientoAguaConfig"
          [columns]="[
            { field: 'categoria', label: 'Categoría', type: 'text', placeholder: 'Ej: Red pública dentro de la vivienda' },
            { field: 'casos', label: 'Casos', type: 'number', placeholder: '0' },
            { field: 'porcentaje', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true }
          ]"
          [tablaKey]="'abastecimientoAguaCpTabla'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onAbastecimientoAguaFieldChange.bind(this)"
          (tableUpdated)="onAbastecimientoAguaTableUpdated()">
        </app-dynamic-table>

        <div class="table-editor" style="margin-top: 10px; padding: 10px; background-color: #f9f9f9; border: 1px solid #ddd;">
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; align-items: center;">
            <div>
              <label class="label">Categoría</label>
              <input type="text" class="input" value="Total" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Casos</label>
              <input type="text" class="input" [value]="getTotalAbastecimientoAgua()" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Porcentaje</label>
              <input type="text" class="input" value="100,00 %" readonly style="background-color: #e8e8e8;">
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">b. Servicios básicos de desagüe</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoDesagueCP"
          label="Servicios básicos de desagüe - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="6"
          [value]="obtenerTextoDesagueCP()"
          (valueChange)="onFieldChange('textoDesagueCP', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Tabla Tipos de saneamiento en las viviendas</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="saneamientoConfig"
          [columns]="[
            { field: 'categoria', label: 'Categoría', type: 'text', placeholder: 'Ej: Red pública de desagüe dentro de la vivienda' },
            { field: 'casos', label: 'Casos', type: 'number', placeholder: '0' },
            { field: 'porcentaje', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true }
          ]"
          [tablaKey]="'saneamientoCpTabla'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onSaneamientoFieldChange.bind(this)"
          (tableUpdated)="onSaneamientoTableUpdated()">
        </app-dynamic-table>

        <div class="table-editor" style="margin-top: 10px; padding: 10px; background-color: #f9f9f9; border: 1px solid #ddd;">
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; align-items: center;">
            <div>
              <label class="label">Categoría</label>
              <input type="text" class="input" value="Total" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Casos</label>
              <input type="text" class="input" [value]="getTotalSaneamiento()" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Porcentaje</label>
              <input type="text" class="input" value="100,00 %" readonly style="background-color: #e8e8e8;">
            </div>
          </div>
        </div>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Fotografías de Desechos Sólidos</label>
        <app-image-upload
          [fotografias]="fotografiasDesechosFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX_DESECHOS"
          [permitirMultiples]="true"
          labelTitulo="Título de la fotografía"
          labelFuente="Fuente de la fotografía"
          labelImagen="Fotografía - Imagen"
          placeholderTitulo="Ej: Contenedores de residuos sólidos"
          placeholderFuente="Ej: GEADES, 2024"
          tituloDefault="Contenedores de residuos sólidos"
          fuenteDefault="GEADES, 2024"
          [requerido]="false"
          (fotografiasChange)="onFotografiasDesechosChange($event)">
        </app-image-upload>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">c. Gestión y destino de los desechos sólidos</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoDesechosSolidosCP"
          label="Gestión y Destino de Desechos Sólidos - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="6"
          [value]="obtenerTextoDesechosSolidosCP()"
          (valueChange)="onFieldChange('textoDesechosSolidosCP', $event)">
        </app-paragraph-editor>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">d. Electricidad</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoElectricidadCP"
          label="Electricidad - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoElectricidadCP()"
          (valueChange)="onFieldChange('textoElectricidadCP', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Tabla Cobertura de alumbrado eléctrico en las viviendas</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="coberturaElectricaConfig"
          [columns]="[
            { field: 'categoria', label: 'Categoría', type: 'text', placeholder: 'Ej: Si tiene alumbrado eléctrico' },
            { field: 'casos', label: 'Casos', type: 'number', placeholder: '0' },
            { field: 'porcentaje', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true }
          ]"
          [tablaKey]="'coberturaElectricaCpTabla'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onCoberturaElectricaFieldChange.bind(this)"
          (tableUpdated)="onCoberturaElectricaTableUpdated()">
        </app-dynamic-table>

        <div class="table-editor" style="margin-top: 10px; padding: 10px; background-color: #f9f9f9; border: 1px solid #ddd;">
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; align-items: center;">
            <div>
              <label class="label">Categoría</label>
              <input type="text" class="input" value="Total" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Casos</label>
              <input type="text" class="input" [value]="getTotalCoberturaElectrica()" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Porcentaje</label>
              <input type="text" class="input" value="100,00 %" readonly style="background-color: #e8e8e8;">
            </div>
          </div>
        </div>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Fotografías de Electricidad</label>
        <app-image-upload
          [fotografias]="fotografiasElectricidadFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX_ELECTRICIDAD"
          [permitirMultiples]="true"
          labelTitulo="Título de la fotografía"
          labelFuente="Fuente de la fotografía"
          labelImagen="Fotografía - Imagen"
          placeholderTitulo="Ej: Infraestructura eléctrica"
          placeholderFuente="Ej: GEADES, 2024"
          tituloDefault="Infraestructura eléctrica"
          fuenteDefault="GEADES, 2024"
          [requerido]="false"
          (fotografiasChange)="onFotografiasElectricidadChange($event)">
        </app-image-upload>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">e. Energía para cocinar</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">Editar Párrafos</h4>
        
        <app-paragraph-editor
          fieldId="textoEnergiaCocinarCP"
          label="Energía para Cocinar - Texto Completo"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoEnergiaCocinarCP()"
          (valueChange)="onFieldChange('textoEnergiaCocinarCP', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Tabla Combustibles para cocción en los hogares</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="combustiblesCocinarConfig"
          [columns]="[
            { field: 'categoria', label: 'Categoría', type: 'text', placeholder: 'Ej: Leña' },
            { field: 'casos', label: 'Casos', type: 'number', placeholder: '0' },
            { field: 'porcentaje', label: 'Porcentaje', type: 'text', placeholder: '0,00 %', readonly: true }
          ]"
          [tablaKey]="'combustiblesCocinarCpTabla'"
          [totalKey]="'categoria'"
          [customFieldChangeHandler]="onCombustiblesCocinarFieldChange.bind(this)"
          (tableUpdated)="onCombustiblesCocinarTableUpdated()">
        </app-dynamic-table>

        <div class="table-editor" style="margin-top: 10px; padding: 10px; background-color: #f9f9f9; border: 1px solid #ddd;">
          <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; align-items: center;">
            <div>
              <label class="label">Categoría</label>
              <input type="text" class="input" value="Total" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Casos</label>
              <input type="text" class="input" [value]="getTotalCombustiblesCocinar()" readonly style="background-color: #e8e8e8;">
            </div>
            <div>
              <label class="label">Porcentaje</label>
              <input type="text" class="input" value="100,00 %" readonly style="background-color: #e8e8e8;">
            </div>
          </div>
        </div>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Fotografías de Energía para Cocinar</label>
        <app-image-upload
          [fotografias]="fotografiasCocinarFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX_COCINAR"
          [permitirMultiples]="true"
          labelTitulo="Título de la fotografía"
          labelFuente="Fuente de la fotografía"
          labelImagen="Fotografía - Imagen"
          placeholderTitulo="Ej: Energía para cocinar"
          placeholderFuente="Ej: GEADES, 2024"
          tituloDefault="Energía para cocinar"
          fuenteDefault="GEADES, 2024"
          [requerido]="false"
          (fotografiasChange)="onFotografiasCocinarChange($event)">
        </app-image-upload>
      </div>
    </div>
  </div>
</div>
