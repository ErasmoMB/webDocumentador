<div *ngIf="modoFormulario" class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">{{ SECCION28_TEMPLATES.tituloSeccion }}</h4>
    
    <div class="form-group-section mt-lg">
      <h4 class="section-title">{{ SECCION28_TEMPLATES.tituloSalud }}</h4>
      
      <div class="form-group-section mt-md">
        <h4 class="section-title">{{ SECCION28_TEMPLATES.editarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoSaludCP"
          [label]="SECCION28_TEMPLATES.labelTextoSaludCP"
          [hint]="SECCION28_TEMPLATES.hintParrafos"
          [rows]="4"
          [value]="obtenerTextoSaludCP()"
          (valueChange)="onFieldChange('textoSaludCP', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field mt-lg">
        <label class="label">{{ SECCION28_TEMPLATES.labelTituloPuestoSalud }}</label>
        <input type="text" class="input" 
          [value]="tituloPuestoSaludSignal()"
          (input)="onFieldChange('puestoSaludTitulo', $any($event.target).value)"
          [placeholder]="SECCION28_TEMPLATES.placeholderTituloPuestoSalud">
      </div>

      <div class="form-field mt-sm">
        <label class="label">{{ SECCION28_TEMPLATES.labelTablaPuestoSalud }}</label>
        <app-dynamic-table
          [datos]="getPuestoSaludTablaData()"
          [sectionId]="seccionId"
          [config]="puestoSaludConfig"
          [columns]="columnasPuestoSalud"
          [tablaKey]="getTablaKeyPuestoSalud()"
          [totalKey]="'categoria'"
          (tableUpdated)="onPuestoSaludTableUpdated()"
          [showAddButton]="false"
          [showDeleteButton]="false">
        </app-dynamic-table>
      </div>

      <div class="form-field mt-sm">
        <label class="label">{{ SECCION28_TEMPLATES.labelFuentePuestoSalud }}</label>
        <input type="text" class="input" 
          [value]="fuentePuestoSaludSignal()"
          (input)="onFieldChange('puestoSaludFuente', $any($event.target).value)"
          [placeholder]="SECCION28_TEMPLATES.placeholderFuentePuestoSalud">
      </div>

      <div class="form-field mt-lg">
        <label class="label">{{ SECCION28_TEMPLATES.labelFotografiasSalud }}</label>
        <app-image-upload
          [fotografias]="fotografiasSaludFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="photoPrefixSignalSalud()"
          [permitirMultiples]="true"
          [labelTitulo]="SECCION28_TEMPLATES.labelFotoTitulo"
          [labelFuente]="SECCION28_TEMPLATES.labelFotoFuente"
          [labelImagen]="SECCION28_TEMPLATES.labelFotoImagen"
          [placeholderTitulo]="SECCION28_TEMPLATES.placeholderFotoSalud"
          [placeholderFuente]="SECCION28_TEMPLATES.placeholderFotoFuente"
          [tituloDefault]="SECCION28_TEMPLATES.tituloFotoSaludDefault"
          [fuenteDefault]="SECCION28_TEMPLATES.fuenteFotoDefault"
          [requerido]="false"
          (fotografiasChange)="onFotografiasSaludChange($event)">
        </app-image-upload>
      </div>
    </div>

    <div class="form-group-section mt-xl">
      <h4 class="section-title">{{ SECCION28_TEMPLATES.tituloEducacion }}</h4>
      
      <div class="form-group-section mt-md">
        <h4 class="section-title">{{ SECCION28_TEMPLATES.editarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoEducacionCP"
          [label]="SECCION28_TEMPLATES.labelTextoEducacionCP"
          [hint]="SECCION28_TEMPLATES.hintParrafos"
          [rows]="4"
          [value]="obtenerTextoEducacionCP()"
          (valueChange)="onFieldChange('textoEducacionCP', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-row mt-lg">
        <div class="form-field">
          <label class="label">{{ SECCION28_TEMPLATES.labelNombreIEMayor }}</label>
          <input type="text" class="input" 
            [value]="datos['nombreIEMayorEstudiantes'] || ''"
            (input)="onFieldChange('nombreIEMayorEstudiantes', $any($event.target).value)"
            [placeholder]="SECCION28_TEMPLATES.placeholderNombreIE">
        </div>

        <div class="form-field">
          <label class="label">{{ SECCION28_TEMPLATES.labelCantidadEstudiantesIEMayor }}</label>
          <input type="number" class="input" 
            [value]="datos['cantidadEstudiantesIEMayor'] || ''"
            (input)="onFieldChange('cantidadEstudiantesIEMayor', $any($event.target).value)"
            [placeholder]="SECCION28_TEMPLATES.placeholderCantidadEstudiantes">
        </div>
      </div>

      <div class="form-field mt-lg">
        <label class="label">{{ SECCION28_TEMPLATES.labelTituloEducacion }}</label>
        <input type="text" class="input" 
          [value]="tituloEducacionSignal()"
          (input)="onFieldChange('educacionTitulo', $any($event.target).value)"
          [placeholder]="SECCION28_TEMPLATES.placeholderTituloEducacion">
      </div>

      <div class="form-field mt-sm">
        <label class="label">{{ SECCION28_TEMPLATES.labelTablaEducacion }}</label>
        <app-dynamic-table
          [datos]="getEducacionTablaData()"
          [sectionId]="seccionId"
          [config]="educacionConfig"
          [columns]="columnasEducacion"
          [tablaKey]="getTablaKeyEducacion()"
          [totalKey]="'nombreIE'"
          (tableUpdated)="onTablaUpdated()">
        </app-dynamic-table>
      </div>

      <div class="form-field mt-sm">
        <label class="label">{{ SECCION28_TEMPLATES.labelFuenteEducacion }}</label>
        <input type="text" class="input" 
          [value]="fuenteEducacionSignal()"
          (input)="onFieldChange('educacionFuente', $any($event.target).value)"
          [placeholder]="SECCION28_TEMPLATES.placeholderFuenteEducacion">
      </div> 

      <div class="form-field mt-lg">
        <label class="label">{{ SECCION28_TEMPLATES.labelFotografiasEducacion }}</label>
        <app-image-upload
          [fotografias]="fotografiasEducacionFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="photoPrefixSignalEducacion()"
          [permitirMultiples]="true"
          [labelTitulo]="SECCION28_TEMPLATES.labelFotoTitulo"
          [labelFuente]="SECCION28_TEMPLATES.labelFotoFuente"
          [labelImagen]="SECCION28_TEMPLATES.labelFotoImagen"
          [placeholderTitulo]="SECCION28_TEMPLATES.placeholderFotoEducacion"
          [placeholderFuente]="SECCION28_TEMPLATES.placeholderFotoFuente"
          [tituloDefault]="SECCION28_TEMPLATES.tituloFotoEducacionDefault"
          [fuenteDefault]="SECCION28_TEMPLATES.fuenteFotoDefault"
          [requerido]="false"
          (fotografiasChange)="onFotografiasEducacionChange($event)">
        </app-image-upload>
      </div>
    </div>

    <div class="form-group-section mt-xl">
      <h4 class="section-title">{{ SECCION28_TEMPLATES.tituloRecreacion }}</h4>
      
      <div class="form-group-section mt-md">
        <h4 class="section-title">{{ SECCION28_TEMPLATES.editarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoRecreacionCP1"
          [label]="SECCION28_TEMPLATES.labelTextoRecreacionCP1"
          [hint]="SECCION28_TEMPLATES.hintParrafos"
          [rows]="3"
          [value]="obtenerTextoRecreacionCP1()"
          (valueChange)="onFieldChange('textoRecreacionCP1', $event)">
        </app-paragraph-editor>

        <app-paragraph-editor
          fieldId="textoRecreacionCP2"
          [label]="SECCION28_TEMPLATES.labelTextoRecreacionCP2"
          [hint]="SECCION28_TEMPLATES.hintParrafos"
          [rows]="3"
          [value]="obtenerTextoRecreacionCP2()"
          (valueChange)="onFieldChange('textoRecreacionCP2', $event)">
        </app-paragraph-editor>

        <app-paragraph-editor
          fieldId="textoRecreacionCP3"
          [label]="SECCION28_TEMPLATES.labelTextoRecreacionCP3"
          [hint]="SECCION28_TEMPLATES.hintParrafos"
          [rows]="3"
          [value]="obtenerTextoRecreacionCP3()"
          (valueChange)="onFieldChange('textoRecreacionCP3', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field mt-lg">
        <label class="label">{{ SECCION28_TEMPLATES.labelFotografiasRecreacion }}</label>
        <app-image-upload
          [fotografias]="fotografiasRecreacionFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="photoPrefixSignalRecreacion()"
          [permitirMultiples]="true"
          [labelTitulo]="SECCION28_TEMPLATES.labelFotoTitulo"
          [labelFuente]="SECCION28_TEMPLATES.labelFotoFuente"
          [labelImagen]="SECCION28_TEMPLATES.labelFotoImagen"
          [placeholderTitulo]="SECCION28_TEMPLATES.placeholderFotoRecreacion"
          [placeholderFuente]="SECCION28_TEMPLATES.placeholderFotoFuente"
          [tituloDefault]="SECCION28_TEMPLATES.placeholderFotoRecreacion"
          [fuenteDefault]="SECCION28_TEMPLATES.fuenteFotoDefault"
          [requerido]="false"
          (fotografiasChange)="onFotografiasRecreacionChange($event)">
        </app-image-upload>
      </div>

      <div class="form-group-section mt-xl">
      <h4 class="section-title">{{ SECCION28_TEMPLATES.tituloDeporte }}</h4>
      
      <div class="form-group-section mt-md">
        <h4 class="section-title">{{ SECCION28_TEMPLATES.editarParrafos }}</h4>
        
        <app-paragraph-editor
          fieldId="textoDeporteCP1"
          [label]="SECCION28_TEMPLATES.labelTextoDeporteCP1"
          [hint]="SECCION28_TEMPLATES.hintParrafos"
          [rows]="3"
          [value]="obtenerTextoDeporteCP1()"
          (valueChange)="onFieldChange('textoDeporteCP1', $event)">
        </app-paragraph-editor>

        <app-paragraph-editor
          fieldId="textoDeporteCP2"
          [label]="SECCION28_TEMPLATES.labelTextoDeporteCP2"
          [hint]="SECCION28_TEMPLATES.hintParrafos"
          [rows]="4"
          [value]="obtenerTextoDeporteCP2()"
          (valueChange)="onFieldChange('textoDeporteCP2', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field mt-lg">
        <label class="label">{{ SECCION28_TEMPLATES.labelFotografiasDeporte }}</label>
        <app-image-upload
          [fotografias]="fotografiasDeporteFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="photoPrefixSignalDeporte()"
          [permitirMultiples]="true"
          [labelTitulo]="SECCION28_TEMPLATES.labelFotoTitulo"
          [labelFuente]="SECCION28_TEMPLATES.labelFotoFuente"
          [labelImagen]="SECCION28_TEMPLATES.labelFotoImagen"
          [placeholderTitulo]="SECCION28_TEMPLATES.placeholderFotoRecreacion"
          [placeholderFuente]="SECCION28_TEMPLATES.placeholderFotoFuente"
          [tituloDefault]="SECCION28_TEMPLATES.placeholderFotoRecreacion"
          [fuenteDefault]="SECCION28_TEMPLATES.fuenteFotoDefault"
          [requerido]="false"
          (fotografiasChange)="onFotografiasDeporteChange($event)">
        </app-image-upload>
      </div>
    </div>
  </div>
</div>