<div>
  <h5>B.1.8. Indicadores de salud</h5>

  <p class="mt-lg mb-sm"><strong>a. Natalidad y Mortalidad</strong></p>
  <p class="text-justify" *ngIf="viewModel().textoNatalidadCP1 && viewModel().textoNatalidadCP1 !== '____'">{{ viewModel().textoNatalidadCP1 }}</p>
  <p class="text-justify" *ngIf="!viewModel().textoNatalidadCP1 || viewModel().textoNatalidadCP1 === '____'">Este ítem proporciona una visión crucial de la dinámica demográfica, reflejando las tendencias de crecimiento poblacional. Los datos obtenidos del trabajo de campo del Puesto de Salud <span [appDataSource]="'section'" [fieldName]="'textoNatalidadCP1'">{{ viewModel().centroPobladoAISI || 'Cahuacho' }}</span> indican que, durante el año 2023, se registró un total de <span [appDataSource]="'manual'">{{ getNatalidad2023() }}</span> nacimientos. Para el año 2024 (hasta el 14 de noviembre), se registró únicamente <span [appDataSource]="'manual'">{{ getNatalidad2024() }}</span> nacimiento.</p>
  <p class="text-justify" *ngIf="viewModel().textoNatalidadCP2 && viewModel().textoNatalidadCP2 !== '____'">{{ viewModel().textoNatalidadCP2 }}</p>
  <p class="text-justify" *ngIf="!viewModel().textoNatalidadCP2 || viewModel().textoNatalidadCP2 === '____'">Respecto a la mortalidad, se puede observar que el número de defunciones en la localidad fue de <span [appDataSource]="'manual'" [fieldName]="'textoNatalidadCP2'">{{ getMortalidad2023() }}</span> durante el año 2023. Sin embargo, para el año 2024, sí se registró <span [appDataSource]="'manual'">{{ getMortalidad2024() }}</span> defunción.</p>

  <app-table-wrapper [title]="(viewModel().tituloNatalidad && viewModel().tituloNatalidad.trim().length>0) ? viewModel().tituloNatalidad : ('Indicadores de natalidad y mortalidad – CP ' + (viewModel().centroPobladoAISI || 'Cahuacho'))" sectionId="3.1.4.B.1.8">
    <app-generic-table
      [data]="getNatalidadMortalidadSinTotal()"
      [config]="{
        columns: [
          { key: 'anio', header: 'Año', align: 'left' },
          { key: 'natalidad', header: 'Natalidad', align: 'right' },
          { key: 'mortalidad', header: 'Mortalidad', align: 'right' }
        ],
        totalRow: getTotalNatalidadMortalidad(),
        showFooter: true,
        striped: true,
        hover: true
      }">
    </app-generic-table>
  </app-table-wrapper>
  <p class="source">FUENTE:<span [appDataSource]="'manual'"> {{ viewModel().fuenteNatalidad && viewModel().fuenteNatalidad.trim().length>0 ? viewModel().fuenteNatalidad : 'GEADES (2024)' }}</span></p>

  <p class="mt-lg mb-sm"><strong>b. Morbilidad</strong></p>
  <p class="text-justify" *ngIf="viewModel().textoMorbilidadCP && viewModel().textoMorbilidadCP !== '____'">{{ viewModel().textoMorbilidadCP }}</p>
  <p class="text-justify" *ngIf="!viewModel().textoMorbilidadCP || viewModel().textoMorbilidadCP === '____'">Entre los grupos de morbilidad que se hallan a nivel distrital de <span [appDataSource]="'section'" [fieldName]="'textoMorbilidadCP'">{{ datos.distritoSeleccionado || 'Cahuacho' }}</span> (jurisdicción que abarca al Puesto de Salud <span [appDataSource]="'section'">{{ viewModel().centroPobladoAISI || 'Cahuacho' }}</span>), para el año 2023, los más frecuentes fueron las infecciones agudas de las vías respiratorias superiores (<span [appDataSource]="'section'">{{ getCasosInfeccionesRespiratorias() }}</span> casos) y la obesidad y otros de hiperalimentación (<span [appDataSource]="'section'">{{ getCasosObesidad() }}</span> casos). Para el primero, se reportó un mayor número de casos en el grupo etario de 0 a 11 años, mientras que para el segundo, la mayor cantidad se halló en el rango de 30 a 59 años. A continuación, se presenta el cuadro con el número de casos por grupo de morbilidad y bloque etario dentro del distrito, según el portal REUNIS del MINSA.</p>

  <app-table-wrapper [title]="(viewModel().tituloMorbilidad && viewModel().tituloMorbilidad.trim().length>0) ? viewModel().tituloMorbilidad : ('Casos por grupos de morbilidad – Distrito ' + (datos.distritoSeleccionado || 'Cahuacho') + ' (2023)')" sectionId="3.1.4.B.1.8">
    <app-generic-table
      [data]="getMorbilidadSinTotal()"
      [config]="{
        columns: [
          { key: 'grupo', header: 'Grupo de Morbilidad', align: 'left' },
          { key: 'edad0_11', header: '0 – 11', align: 'right' },
          { key: 'edad12_17', header: '12 – 17', align: 'right' },
          { key: 'edad18_29', header: '18 – 29', align: 'right' },
          { key: 'edad30_59', header: '30 – 59', align: 'right' },
          { key: 'edad60_mas', header: '60 - >', align: 'right' },
          { key: 'casos', header: 'Casos Totales', align: 'right' }
        ],
        totalRow: {
          grupo: 'Total',
          edad0_11: { value: getTotalMorbilidadRango0_11(), isCalculated: true },
          edad12_17: { value: getTotalMorbilidadRango12_17(), isCalculated: true },
          edad18_29: { value: getTotalMorbilidadRango18_29(), isCalculated: true },
          edad30_59: { value: getTotalMorbilidadRango30_59(), isCalculated: true },
          edad60_mas: { value: getTotalMorbilidadRango60_mas(), isCalculated: true },
          casos: { value: getTotalMorbilidadCasos(), isCalculated: true }
        },
        showFooter: true,
        striped: true,
        hover: true
      }">
    </app-generic-table>
  </app-table-wrapper>
  <p class="source">FUENTE:<span [appDataSource]="'manual'"> {{ viewModel().fuenteMorbilidad && viewModel().fuenteMorbilidad.trim().length>0 ? viewModel().fuenteMorbilidad : 'REUNIS (2024)' }}</span></p>

  <p class="mt-lg mb-sm"><strong>c. Población afiliada a Seguros de Salud</strong></p>
  <p class="text-justify" *ngIf="viewModel().textoAfiliacionSalud && viewModel().textoAfiliacionSalud !== '____'">{{ viewModel().textoAfiliacionSalud }}</p>
  <p class="text-justify" *ngIf="!viewModel().textoAfiliacionSalud || viewModel().textoAfiliacionSalud === '____'">En el CP <span [appDataSource]="'section'" [fieldName]="'textoAfiliacionSalud'">{{ viewModel().centroPobladoAISI || 'Cahuacho' }}</span>, la mayor parte de los habitantes se encuentra afiliada a algún tipo de seguro de salud. Es así que el grupo mayoritario corresponde al Seguro Integral de Salud (SIS), el cual representa el <span [appDataSource]="'section'">{{ getPorcentajeSIS() }}</span> de la población. En menor medida, se halla la afiliación a ESSALUD, que representa el <span [appDataSource]="'section'">{{ getPorcentajeESSALUD() }}</span> de la población. Por último, cabe mencionar que el <span [appDataSource]="'section'">{{ getPorcentajeSinSeguro() }}</span> de la población no cuenta con ningún tipo de seguro de salud.</p>

  <app-table-wrapper [title]="(viewModel().tituloAfiliacion && viewModel().tituloAfiliacion.trim().length>0) ? viewModel().tituloAfiliacion : ('Población según tipo de seguro de salud afiliado – CP ' + (viewModel().centroPobladoAISI || 'Cahuacho') + ' (2017)')" sectionId="3.1.4.B.1.8">
    <app-generic-table
      [data]="getAfiliacionSaludAISIConPorcentajes()"
      [config]="{
        columns: [
          { key: 'categoria', header: 'Categoría', align: 'left' },
          { key: 'casos', header: 'Casos', align: 'right' },
          { key: 'porcentaje', header: 'Porcentaje', align: 'right' }
        ],
        totalRow: getTotalAfiliacionSalud(),
        showFooter: true,
        striped: true,
        hover: true
      }">
    </app-generic-table>
  </app-table-wrapper>
  <p class="source">FUENTE:<span [appDataSource]="'manual'"> {{ viewModel().fuenteAfiliacion && viewModel().fuenteAfiliacion.trim().length>0 ? viewModel().fuenteAfiliacion : 'Censos Nacionales 2017: XII de Población, VII de Vivienda y III de Comunidades Indígenas' }}</span></p>

  <app-image-upload
      [modoVista]="true"
      [permitirMultiples]="true"
      [fotografias]="getFotografiasVista()"
      [sectionId]="seccionId"
      [photoPrefix]="PHOTO_PREFIX"
      [labelTitulo]="'Título'"
      [labelFuente]="'Fuente'"
      [labelImagen]="'Imagen'">
  </app-image-upload>
</div>