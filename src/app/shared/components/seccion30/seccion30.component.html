<div *ngIf="!modoFormulario">
  <h5>B.1.9. Indicadores de educación</h5>
  <div *ngIf="datos.parrafoSeccion30_indicadores_educacion_intro; else indicadoresEducacionIntroDefault" class="text-justify" [innerHTML]="datos.parrafoSeccion30_indicadores_educacion_intro"></div>
  <ng-template #indicadoresEducacionIntroDefault>
    <p class="text-justify">La educación es un pilar fundamental para el desarrollo social y económico de una comunidad. En ese sentido, los indicadores de educación juegan un papel crucial al proporcionar una visión clara del estado actual del sistema educativo y su impacto en la población. Este apartado se centra en dos indicadores clave: el nivel educativo de la población y la tasa de analfabetismo. El análisis de estos indicadores permite comprender mejor las fortalezas y desafíos del sistema educativo local, así como diseñar estrategias efectivas para mejorar la calidad educativa y reducir las desigualdades en el acceso a la educación.</p>
  </ng-template>

  <p class="mt-lg mb-sm"><strong>a. Nivel Educativo de la población</strong></p>
  <p class="text-justify">En el CP <span>{{ datos.centroPobladoAISI || '____' }}</span>, el nivel educativo alcanzado por la mayor parte de la población de 15 años a más es la secundaria. A continuación se presentan los datos de nivel educativo según el censo nacional.</p>

  <app-table-wrapper title="Población de 15 años a más según nivel educativo alcanzado – CP {{ datos.centroPobladoAISI || 'Cahuacho' }} (2017)" sectionId="3.1.4.B.1.9">
    <app-generic-table
      [data]="datos.nivelEducativoTabla || []"
      [config]="{
        columns: [
          { key: 'nivel', header: 'Nivel Educativo', width: '50%' },
          { key: 'casos', header: 'Casos', width: '25%', align: 'center' },
          { key: 'porcentaje', header: 'Porcentaje', width: '25%', align: 'center' }
        ],
        showHeader: true,
        showFooter: false,
        striped: true,
        hover: true
      }">
    </app-generic-table>
  </app-table-wrapper>
  <p class="source">FUENTE: Censos Nacionales 2017: XII de Población, VII de Vivienda y III de Comunidades Indígenas</p>

  <p class="mt-lg mb-sm"><strong>b. Tasa de analfabetismo</strong></p>
  <p class="text-justify">En el CP <span>{{ datos.centroPobladoAISI || '____' }}</span>, tomando en cuenta a la población de 15 años a más, se presentan los datos de tasa de analfabetismo según el censo nacional.</p>

  <app-table-wrapper title="Tasa de analfabetismo en población de 15 años a más – CP {{ datos.centroPobladoAISI || 'Cahuacho' }} (2017)" sectionId="3.1.4.B.1.9">
    <app-generic-table
      [data]="datos.tasaAnalfabetismoTabla || []"
      [config]="{
        columns: [
          { key: 'grupo', header: 'Grupo', width: '25%' },
          { key: 'total', header: 'Total', width: '20%', align: 'center' },
          { key: 'alfabetos', header: 'Alfabetos', width: '20%', align: 'center' },
          { key: 'analfabetos', header: 'Analfabetos', width: '20%', align: 'center' },
          { key: 'tasaAnalfabetismo', header: 'Tasa', width: '15%', align: 'center' }
        ],
        showHeader: true,
        showFooter: false,
        striped: true,
        hover: true
      }">
    </app-generic-table>
  </app-table-wrapper>
  <p class="source">FUENTE: Censos Nacionales 2017: XII de Población, VII de Vivienda y III de Comunidades Indígenas</p>

  <app-image-upload
    [modoVista]="true"
    [permitirMultiples]="true"
    [fotografias]="fotografiasInstitucionalidadCache"
    [sectionId]="seccionId"
    [photoPrefix]="PHOTO_PREFIX"
    [labelTitulo]="'Título'"
    [labelFuente]="'Fuente'"
    [labelImagen]="'Imagen'">
  </app-image-upload>
</div>

<div *ngIf="modoFormulario" class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">B.1.9. Indicadores de educación</h4>
    
    <div class="form-group-section mt-lg">
      <h4 class="section-title">Editar Párrafos</h4>
      
      <app-paragraph-editor
        fieldId="parrafoSeccion30_indicadores_educacion_intro"
        label="Introducción - Indicadores de Educación"
        hint="Edite el texto completo. Deje vacío para usar el texto por defecto."
        [rows]="4"
        [value]="datos.parrafoSeccion30_indicadores_educacion_intro || ''"
        (valueChange)="onFieldChange('parrafoSeccion30_indicadores_educacion_intro', $event)">
      </app-paragraph-editor>

      <app-paragraph-editor
        fieldId="textoNivelEducativo"
        label="Nivel Educativo - Texto Completo"
        hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
        [rows]="3"
        [value]="datos.textoNivelEducativo || ''"
        (valueChange)="onFieldChange('textoNivelEducativo', $event)">
      </app-paragraph-editor>

      <app-paragraph-editor
        fieldId="textoTasaAnalfabetismo"
        label="Tasa de Analfabetismo - Texto Completo"
        hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
        [rows]="3"
        [value]="datos.textoTasaAnalfabetismo || ''"
        (valueChange)="onFieldChange('textoTasaAnalfabetismo', $event)">
      </app-paragraph-editor>
    </div>

    <div class="form-field mt-xl">
      <label class="label">Tabla Población de 15 años a más según nivel educativo alcanzado</label>
      <app-dynamic-table
        [datos]="datos"
        [sectionId]="seccionId"
        [config]="nivelEducativoDynamicConfig"
        (tableUpdated)="onNivelEducativoTableUpdated()">
      </app-dynamic-table>
    </div>

    <div class="form-field mt-xl">
      <label class="label">Tabla Tasa de analfabetismo en población de 15 años a más</label>
      <app-dynamic-table
        [datos]="datos"
        [sectionId]="seccionId"
        [config]="tasaAnalfabetismoDynamicConfig"
        (tableUpdated)="onTasaAnalfabetismoTableUpdated()">
      </app-dynamic-table>
    </div>

    <div class="form-field mt-lg">
      <label class="label">Fotografías de Indicadores de educación</label>
      <app-image-upload
        [fotografias]="fotografiasCahuachoB19FormMulti"
        [sectionId]="seccionId"
        [photoPrefix]="PHOTO_PREFIX_CAHUACHO_B19"
        [permitirMultiples]="true"
        labelTitulo="Título de la fotografía"
        labelFuente="Fuente de la fotografía"
        labelImagen="Fotografía - Imagen"
        placeholderTitulo="Ej: Indicadores de educación"
        placeholderFuente="Ej: GEADES, 2024"
        tituloDefault="Indicadores de educación"
        fuenteDefault="GEADES, 2024"
        [requerido]="false"
        (fotografiasChange)="onFotografiasChange($event)">
      </app-image-upload>
    </div>
  </div>
</div>
