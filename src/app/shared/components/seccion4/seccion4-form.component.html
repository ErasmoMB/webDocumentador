<!-- Formulario (modo edición) -->
<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">3.1.4. Caracterización socioeconómica — Editor</h4>

    <div class="form-group-section" style="margin-top: 12px;">
      <h4 class="section-title">Editar Párrafos</h4>

      <app-paragraph-editor
        [fieldId]="'parrafoSeccion4_introduccion_aisd' + obtenerPrefijoGrupo()"
        label="Introducción AISD"
        [rows]="4"
        [value]="viewModel().texts.introduccionText"
        (valueChange)="onFieldChange('parrafoSeccion4_introduccion_aisd' + obtenerPrefijoGrupo(), $event)">
      </app-paragraph-editor>

      <app-paragraph-editor
        [fieldId]="'parrafoSeccion4_comunidad_completo' + obtenerPrefijoGrupo()"
        label="Descripción de la Comunidad"
        [rows]="5"
        [value]="viewModel().texts.comunidadText"
        (valueChange)="onFieldChange('parrafoSeccion4_comunidad_completo' + obtenerPrefijoGrupo(), $event)">
      </app-paragraph-editor>

      <app-paragraph-editor
        [fieldId]="'parrafoSeccion4_caracterizacion_indicadores' + obtenerPrefijoGrupo()"
        label="Caracterización - Indicadores"
        [rows]="4"
        [value]="viewModel().texts.caracterizacionText"
        (valueChange)="onFieldChange('parrafoSeccion4_caracterizacion_indicadores' + obtenerPrefijoGrupo(), $event)">
      </app-paragraph-editor>
    </div>

    <div class="form-field" style="margin-top: 20px;">
      <label class="label">Título de tabla - Ubicación referencial (A.1)</label>
      <input type="text" class="form-control" [ngModel]="viewModel().data['cuadroTituloAISD1' + obtenerPrefijoGrupo()]" (ngModelChange)="onFieldChange('cuadroTituloAISD1' + obtenerPrefijoGrupo(), $event)" placeholder="Ej: Ubicación referencial - CC Comunidad">
    </div>

    <label class="label" style="margin-top:10px">Ubicación referencial (Tabla A1)</label>
    <app-dynamic-table
      [datos]="datos"
      [config]="tablaAISD1Config"
      [columns]="columnasAISD1"
      [sectionId]="seccionId"
      [tablaKey]="'tablaAISD1Datos' + obtenerPrefijoGrupo()"
      [fieldName]="'tablaAISD1Datos' + obtenerPrefijoGrupo()"
      (tableUpdated)="onTablaUpdated()">
    </app-dynamic-table>

    <div class="form-field" style="margin-top: 20px;">
      <label class="label">Título de tabla - Cantidad total de población y viviendas (A.2)</label>
      <input type="text" class="form-control" [ngModel]="viewModel().data['cuadroTituloAISD2' + obtenerPrefijoGrupo()]" (ngModelChange)="onFieldChange('cuadroTituloAISD2' + obtenerPrefijoGrupo(), $event)" placeholder="Ej: Cantidad total de población y viviendas">
    </div>

    <label class="label" style="margin-top:10px">Población y viviendas (Tabla A2)</label>
    <app-dynamic-table
      [datos]="datos"
      [config]="tablaAISD2Config"
      [columns]="columnasAISD2"
      [sectionId]="seccionId"
      [tablaKey]="'tablaAISD2Datos' + obtenerPrefijoGrupo()"
      [fieldName]="'tablaAISD2Datos' + obtenerPrefijoGrupo()"
      (tableUpdated)="onTablaUpdated()">
    </app-dynamic-table>

    <div class="form-field" style="margin-top: 20px;">
      <label class="label">Fuente de las tablas</label>
      <input type="text" class="form-control" [ngModel]="viewModel().sources.tablaAISD1Source" (ngModelChange)="onFieldChange('cuadroFuenteAISD1' + obtenerPrefijoGrupo(), $event)" placeholder="Ej: GEADES (2024)">
    </div>

    <div class="form-field" style="margin-top: 20px;">
      <label class="label">Fotografías - Ubicación Referencial</label>
      <app-image-upload
        [fotografias]="getPhotoGroup(PHOTO_PREFIX_UBICACION)"
        [sectionId]="seccionId"
        [photoPrefix]="PHOTO_PREFIX_UBICACION + obtenerPrefijoGrupo()"
        [permitirMultiples]="true"
        (fotografiasChange)="onGrupoFotografiasChange(PHOTO_PREFIX_UBICACION, $event)">
      </app-image-upload>
    </div>

    <div class="form-field" style="margin-top: 20px;">
      <label class="label">Fotografías - Población y Viviendas</label>
      <app-image-upload
        [fotografias]="getPhotoGroup(PHOTO_PREFIX_POBLACION)"
        [sectionId]="seccionId"
        [photoPrefix]="PHOTO_PREFIX_POBLACION + obtenerPrefijoGrupo()"
        [permitirMultiples]="true"
        (fotografiasChange)="onGrupoFotografiasChange(PHOTO_PREFIX_POBLACION, $event)">
      </app-image-upload>
    </div>

  </div>
</div>
