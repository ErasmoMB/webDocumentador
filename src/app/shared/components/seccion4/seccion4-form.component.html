<!-- Formulario (modo ediciÃ³n) -->
<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">{{ SECCION4_TEMPLATES.tituloSeccion }}</h4>

    <div class="form-group-section" style="margin-top: 12px;">
      <h4 class="section-title">{{ SECCION4_TEMPLATES.tituloEditarParrafos }}</h4>

      <app-paragraph-editor
        [fieldId]="'parrafoSeccion4_introduccion_aisd' + obtenerPrefijoGrupo()"
        [label]="SECCION4_TEMPLATES.labelIntroduccionAISD"
        [rows]="4"
        [value]="viewModel().texts.introduccionText"
        (valueChange)="projectFacade.setField(seccionId, null, 'parrafoSeccion4_introduccion_aisd' + obtenerPrefijoGrupo(), $event)">
      </app-paragraph-editor>

      <app-paragraph-editor
        [fieldId]="'parrafoSeccion4_comunidad_completo' + obtenerPrefijoGrupo()"
        [label]="SECCION4_TEMPLATES.labelDescripcionComunidad"
        [rows]="5"
        [value]="viewModel().texts.comunidadText"
        (valueChange)="projectFacade.setField(seccionId, null, 'parrafoSeccion4_comunidad_completo' + obtenerPrefijoGrupo(), $event)">
      </app-paragraph-editor>

      <app-paragraph-editor
        [fieldId]="'parrafoSeccion4_caracterizacion_indicadores' + obtenerPrefijoGrupo()"
        [label]="SECCION4_TEMPLATES.labelCaracterizacionIndicadores"
        [rows]="4"
        [value]="viewModel().texts.caracterizacionText"
        (valueChange)="projectFacade.setField(seccionId, null, 'parrafoSeccion4_caracterizacion_indicadores' + obtenerPrefijoGrupo(), $event)">
      </app-paragraph-editor>
    </div>

    <div class="form-field" style="margin-top: 20px;">
      <label class="label">{{ SECCION4_TEMPLATES.labelTituloTablaUbicacion }}</label>
      <input type="text" class="form-control" [ngModel]="viewModel().data['cuadroTituloAISD1' + obtenerPrefijoGrupo()]" (ngModelChange)="projectFacade.setField(seccionId, null, 'cuadroTituloAISD1' + obtenerPrefijoGrupo(), $event)" [placeholder]="SECCION4_TEMPLATES.placeholderTituloUbicacion">
    </div>

    <label class="label" style="margin-top:10px">{{ SECCION4_TEMPLATES.labelTablaUbicacionReferencial }}</label>
    <app-dynamic-table
      [datos]="datos"
      [config]="tablaAISD1Config"
      [columns]="columnasAISD1"
      [sectionId]="seccionId"
      [tablaKey]="'tablaAISD1Datos' + obtenerPrefijoGrupo()"
      [fieldName]="'tablaAISD1Datos' + obtenerPrefijoGrupo()"
      (tableUpdated)="onTablaUpdated()">
    </app-dynamic-table>

    <div class="form-field" style="margin-top: 20px;">
      <label class="label">{{ SECCION4_TEMPLATES.labelFuenteTablaA1 }}</label>
      <input type="text" class="form-control" [ngModel]="viewModel().sources.tablaAISD1Source" (ngModelChange)="projectFacade.setField(seccionId, null, 'cuadroFuenteAISD1' + obtenerPrefijoGrupo(), $event)" [placeholder]="SECCION4_TEMPLATES.placeholderFuente">
    </div>

    <div class="form-field" style="margin-top: 20px;">
      <label class="label">{{ SECCION4_TEMPLATES.labelTituloTabla }}</label>
      <input type="text" class="form-control" [ngModel]="viewModel().data['cuadroTituloAISD2' + obtenerPrefijoGrupo()]" (ngModelChange)="projectFacade.setField(seccionId, null, 'cuadroTituloAISD2' + obtenerPrefijoGrupo(), $event)" [placeholder]="SECCION4_TEMPLATES.placeholderTituloPoblacion">
    </div>

    <label class="label" style="margin-top:10px">{{ SECCION4_TEMPLATES.labelTablaPoblacionViviendas }}</label>
    <app-dynamic-table
      [datos]="datos"
      [config]="tablaAISD2Config"
      [columns]="columnasAISD2"
      [sectionId]="seccionId"
      [tablaKey]="'tablaAISD2Datos' + obtenerPrefijoGrupo()"
      [fieldName]="'tablaAISD2Datos' + obtenerPrefijoGrupo()"
      (tableUpdated)="onTablaUpdated()">
    </app-dynamic-table>

    <div class="form-field" style="margin-top: 20px;">
      <label class="label">{{ SECCION4_TEMPLATES.labelFuenteTablaA2 }}</label>
      <input type="text" class="form-control" [ngModel]="viewModel().sources.tablaAISD2Source" (ngModelChange)="projectFacade.setField(seccionId, null, 'cuadroFuenteAISD2' + obtenerPrefijoGrupo(), $event)" [placeholder]="SECCION4_TEMPLATES.placeholderFuente">
    </div>

    <div class="form-field" style="margin-top: 20px;">
      <label class="label">{{ SECCION4_TEMPLATES.labelFotografiasUbicacion }}</label>
      <app-image-upload
        [fotografias]="getPhotoGroup(PHOTO_PREFIX_UBICACION)"
        [sectionId]="seccionId"
        [photoPrefix]="PHOTO_PREFIX_UBICACION + obtenerPrefijoGrupo()"
        [permitirMultiples]="true"
        (fotografiasChange)="onGrupoFotografiasChange(PHOTO_PREFIX_UBICACION, $event)">
      </app-image-upload>
    </div>

    <div class="form-field" style="margin-top: 20px;">
      <label class="label">{{ SECCION4_TEMPLATES.labelFotografiasOblacion }}</label>
      <app-image-upload
        [fotografias]="getPhotoGroup(PHOTO_PREFIX_POBLACION)"
        [sectionId]="seccionId"
        [photoPrefix]="PHOTO_PREFIX_POBLACION + obtenerPrefijoGrupo()"
        [permitirMultiples]="true"
        (fotografiasChange)="onGrupoFotografiasChange(PHOTO_PREFIX_POBLACION, $event)">
      </app-image-upload>
    </div>

  </div>
</div>
