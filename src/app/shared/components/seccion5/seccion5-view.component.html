<div class="document-view">
  <h5>{{ obtenerSubseccionId() }}. {{ SECCION5_TEMPLATES.labelInstitucionalidadLocal }}</h5>

  <!-- Párrafo informativo -->
  <p class="text-justify">
    {{ obtenerParrafoInstitucionalidad() }}
  </p>

  <app-table-wrapper [title]="viewModel().titulo || SECCION5_TEMPLATES.labelInstituciones.replace('{COMUNIDAD}', obtenerNombreComunidadActual())" [sectionId]="'3.1.4.A.1.1'">
    <app-dynamic-table
      [datos]="datos"
      [config]="institucionesConfig"
      [columns]="columnasInstituciones"
      [sectionId]="seccionId"
      [tablaKey]="'institucionesSeccion5' + obtenerPrefijoGrupo()"
      [modoVista]="true">
    </app-dynamic-table>
    <p class="text-justify data-source">
      {{ SECCION5_TEMPLATES.labelFuente }}: 
      <span *ngIf="vistFuenteInstitucionesSignal() && vistFuenteInstitucionesSignal() !== '____'">{{ vistFuenteInstitucionesSignal() }}</span>
      <span *ngIf="!vistFuenteInstitucionesSignal() || vistFuenteInstitucionesSignal() === '____'" [appDataSource]="'manual'">{{ SECCION5_TEMPLATES.sourceGeadesDefault }}</span>
    </p>
  </app-table-wrapper>

  <!-- Vista previa de fotografías (solo lectura) -->
  <app-image-upload
      [permitirMultiples]="true"
      [modoVista]="true"
      [fotografias]="fotografiasVista"
      [sectionId]="seccionId"
      [photoPrefix]="PHOTO_PREFIX + obtenerPrefijoGrupo()"
      [mostrarTitulo]="true"
      [mostrarFuente]="true"
      [mostrarNumero]="true"
      [tituloDefault]="SECCION5_TEMPLATES.photoDefaultTitle.replace('{COMUNIDAD}', obtenerNombreComunidadActual())"
      [fuenteDefault]="SECCION5_TEMPLATES.sourceGeadesDefault">
  </app-image-upload>
</div>
