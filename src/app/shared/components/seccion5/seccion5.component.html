<h5>A.1.1. Institucionalidad local</h5>

<!-- Párrafo informativo -->
<p class="text-justify" *ngIf="obtenerParrafoInstitucionalidad(); else institucionalidadDefault">
    {{ obtenerParrafoInstitucionalidad() }}
</p>
  <ng-template #institucionalidadDefault>
      <p class="text-justify">Dentro de los límites de la CC <span [appDataSource]="'section'">{{ obtenerNombreComunidadActual() }}</span> se hallan instituciones que, además de la comunidad campesina en sí, también ejercen funciones dentro del territorio y coadyuvan en el desarrollo socioeconómico de la capital administrativa comunal y de sus diferentes sectores. Cabe destacar la presencia de diversos programas sociales (como Pensión 65, Juntos o Qali Warma), así como la existencia de una Junta Administradora de Servicios de Saneamiento (JASS).</p>
  </ng-template>

  <app-table-wrapper [title]="(datos.tituloInstituciones || 'Instituciones existentes – CC ' + obtenerNombreComunidadActual())" sectionId="3.1.4.A.1.1">
  <table class="table-container">
      <thead>
          <tr>
              <th class="table-header">Categoría</th>
              <th class="table-header">SI/NO</th>
              <th class="table-header">Nombre</th>
              <th class="table-header">Comentario</th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let institucion of (datos.tablepagina6 || [])">
              <td class="table-cell"><span *ngIf="institucion.categoria && institucion.categoria !== '____'" [appDataSource]="'manual'">{{ institucion.categoria }}</span><span *ngIf="!institucion.categoria || institucion.categoria === '____'">____</span></td>
              <td class="table-cell"><span *ngIf="institucion.respuesta && institucion.respuesta !== '____'" [appDataSource]="'manual'">{{ institucion.respuesta }}</span><span *ngIf="!institucion.respuesta || institucion.respuesta === '____'">____</span></td>
              <td class="table-cell"><span *ngIf="institucion.nombre && institucion.nombre !== '____' && institucion.nombre !== '–'" [appDataSource]="'manual'">{{ institucion.nombre }}</span><span *ngIf="!institucion.nombre || institucion.nombre === '____' || institucion.nombre === '–'">{{ institucion.nombre || '____' }}</span></td>
              <td class="table-cell"><span *ngIf="institucion.comentario && institucion.comentario !== '____' && institucion.comentario !== '–'" [appDataSource]="'manual'">{{ institucion.comentario }}</span><span *ngIf="!institucion.comentario || institucion.comentario === '____' || institucion.comentario === '–'">{{ institucion.comentario || '____' }}</span></td>
          </tr>
          <tr *ngIf="!datos.tablepagina6 || datos.tablepagina6.length === 0">
              <td class="table-cell">____</td>
              <td class="table-cell">____</td>
              <td class="table-cell">____</td>
              <td class="table-cell">____</td>
          </tr>
      </tbody>
  </table>
  <p class="source">Fuente:<span *ngIf="datos.fuenteInstituciones && datos.fuenteInstituciones !== '____'" [appDataSource]="'fuenteInstituciones' | dataSource">{{ datos.fuenteInstituciones }}</span><span *ngIf="!datos.fuenteInstituciones || datos.fuenteInstituciones === '____'">GEADES (2024)</span></p>
  </app-table-wrapper>

<!-- Vista previa de fotografías (solo lectura) -->
<app-image-upload
    [permitirMultiples]="true"
    [modoVista]="true"
    [fotografias]="fotografiasVista"
    [sectionId]="seccionId"
    [mostrarTitulo]="true"
    [mostrarFuente]="true"
    [mostrarNumero]="true"
    [tituloDefault]="'Local Comunal de la CC ' + obtenerNombreComunidadActual()"
    [fuenteDefault]="'GEADES, 2024'">
</app-image-upload>
