<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">{{ SECCION7_TEMPLATES.TITULO_PRINCIPAL }}</h4>
    
    <!-- SECCIÓN a: PET -->
    <div class="form-group-section" style="margin-top: 20px;">
      <h4 class="section-title">{{ SECCION7_TEMPLATES.SUBTITULO_PET }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION7_TEMPLATES.LABEL_EDITAR_PARRAFOS }}</h4>
        
        <app-paragraph-editor
          [fieldId]="'parrafoSeccion7_pet_completo' + obtenerPrefijoGrupo()"
          [label]="SECCION7_TEMPLATES.LABEL_PET_TEXTO_COMPLETO"
          [hint]="SECCION7_TEMPLATES.HINT_TEXTO_COMPLETO"
          [rows]="4"
          [value]="parrafoSeccion7PetCompleto.value() || obtenerTextoSeccion7PETCompleto()"
          (valueChange)="parrafoSeccion7PetCompleto.update($event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <div class="form-group" style="margin-bottom: 15px;">
          <label class="label">{{ SECCION7_TEMPLATES.LABEL_TITULO_TABLA }}</label>
          <input 
            type="text" 
            class="form-control"
            [ngModel]="cuadroTituloPET.value()"
            (ngModelChange)="cuadroTituloPET.update($event)"
            [placeholder]="SECCION7_TEMPLATES.PLACEHOLDER_TITULO_PET">
        </div>

        <label class="label">Tabla PET - Editable</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="petConfig"
          [columns]="columnasTableaPET"
          [sectionId]="seccionId"
          [tablaKey]="'petTabla' + obtenerPrefijo()"
          [showAddButton]="false"
          [showDeleteButton]="false"
          (tableUpdated)="onTablaPETActualizada()">
        </app-dynamic-table>

        <div class="form-group" style="margin-top: 15px;">
          <label class="label">{{ SECCION7_TEMPLATES.LABEL_FUENTE_TABLA }}</label>
          <input 
            type="text" 
            class="form-control"
            [ngModel]="cuadroFuentePET.value()"
            (ngModelChange)="cuadroFuentePET.update($event)"
            [placeholder]="SECCION7_TEMPLATES.PLACEHOLDER_FUENTE_PET">
        </div>
      </div>
    </div>

    <!-- SECCIÓN b: PEA -->
    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION7_TEMPLATES.SUBTITULO_PEA }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION7_TEMPLATES.LABEL_EDITAR_PARRAFOS }} - Detalle PEA</h4>
        
        <app-paragraph-editor
          [fieldId]="'textoDetalePEA' + obtenerPrefijoGrupo()"
          [label]="SECCION7_TEMPLATES.LABEL_DETALLE_PEA_TEXTO"
          [hint]="SECCION7_TEMPLATES.HINT_TEXTO_COMPLETO"
          [rows]="4"
          [value]="textoDetalePEA.value() || obtenerTextoDetalePEA()"
          (valueChange)="textoDetalePEA.update($event)">
        </app-paragraph-editor>
      </div>

      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION7_TEMPLATES.LABEL_EDITAR_PARRAFOS }} - Definición PEA</h4>
        
        <app-paragraph-editor
          [fieldId]="'textoDefinicionPEA' + obtenerPrefijoGrupo()"
          [label]="SECCION7_TEMPLATES.LABEL_DEFINICION_PEA_TEXTO"
          [hint]="SECCION7_TEMPLATES.HINT_TEXTO_COMPLETO"
          [rows]="4"
          [value]="textoDefinicionPEA.value() || obtenerTextoDefinicionPEA()"
          (valueChange)="textoDefinicionPEA.update($event)">
        </app-paragraph-editor>
      </div>

      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION7_TEMPLATES.LABEL_EDITAR_PARRAFOS }} - Análisis PEA</h4>
        
        <app-paragraph-editor
          [fieldId]="'textoAnalisisPEA' + obtenerPrefijoGrupo()"
          [label]="SECCION7_TEMPLATES.LABEL_ANALISIS_PEA_TEXTO"
          [hint]="SECCION7_TEMPLATES.HINT_TEXTO_COMPLETO"
          [rows]="4"
          [value]="textoAnalisisPEA.value() || obtenerTextoAnalisisPEA()"
          (valueChange)="textoAnalisisPEA.update($event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <div class="form-group" style="margin-bottom: 15px;">
          <label class="label">{{ SECCION7_TEMPLATES.LABEL_TITULO_TABLA_PEA }}</label>
          <input 
            type="text" 
            class="form-control"
            [ngModel]="cuadroTituloPEA.value()"
            (ngModelChange)="cuadroTituloPEA.update($event)"
            [placeholder]="SECCION7_TEMPLATES.PLACEHOLDER_TITULO_PEA">
        </div>

        <label class="label">Tabla PEA - Editable</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="peaConfig"
          [columns]="columnasTableaPEA"
          [sectionId]="seccionId"
          [tablaKey]="'peaTabla' + obtenerPrefijo()"
          [showAddButton]="false"
          [showDeleteButton]="false"
          (tableUpdated)="onTablaPEAActualizada()">
        </app-dynamic-table>

        <div class="form-group" style="margin-top: 15px;">
          <label class="label">{{ SECCION7_TEMPLATES.LABEL_FUENTE_TABLA_PEA }}</label>
          <input 
            type="text" 
            class="form-control"
            [ngModel]="cuadroFuentePEA.value()"
            (ngModelChange)="cuadroFuentePEA.update($event)"
            [placeholder]="SECCION7_TEMPLATES.PLACEHOLDER_FUENTE_PEA">
        </div>
      </div>
    </div>

    <!-- SECCIÓN b.1: Situación del empleo -->
    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION7_TEMPLATES.SUBTITULO_SITUACION_EMPLEO }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION7_TEMPLATES.LABEL_EDITAR_PARRAFOS }}</h4>
        
        <app-paragraph-editor
          [fieldId]="'parrafoSeccion7_situacion_empleo_completo' + obtenerPrefijoGrupo()"
          [label]="SECCION7_TEMPLATES.LABEL_SITUACION_EMPLEO_TEXTO"
          [hint]="SECCION7_TEMPLATES.HINT_TEXTO_COMPLETO"
          [rows]="4"
          [value]="parrafoSeccion7SituacionEmpleoCompleto.value() || obtenerTextoSeccion7SituacionEmpleoCompleto()"
          (valueChange)="parrafoSeccion7SituacionEmpleoCompleto.update($event)">
        </app-paragraph-editor>
      </div>
    </div>

    <!-- SECCIÓN b.2: Ingresos -->
    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION7_TEMPLATES.SUBTITULO_INGRESOS }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION7_TEMPLATES.LABEL_EDITAR_PARRAFOS }}</h4>
        
        <app-paragraph-editor
          [fieldId]="'parrafoSeccion7_ingresos_completo' + obtenerPrefijoGrupo()"
          [label]="SECCION7_TEMPLATES.LABEL_INGRESOS_TEXTO"
          [hint]="SECCION7_TEMPLATES.HINT_TEXTO_COMPLETO"
          [rows]="4"
          [value]="parrafoSeccion7IngresosCompleto.value() || obtenerTextoSeccion7IngresosCompleto()"
          (valueChange)="parrafoSeccion7IngresosCompleto.update($event)">
        </app-paragraph-editor>
      </div>
    </div>

    <!-- SECCIÓN b.3: Índice de desempleo y PEA Ocupada -->
    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION7_TEMPLATES.SUBTITULO_INDICE_DESEMPLEO }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h4 class="section-title">{{ SECCION7_TEMPLATES.LABEL_EDITAR_PARRAFOS }}</h4>
        
        <app-paragraph-editor
          [fieldId]="'textoIndiceDesempleo' + obtenerPrefijoGrupo()"
          [label]="SECCION7_TEMPLATES.LABEL_INDICE_DESEMPLEO_TEXTO"
          [hint]="SECCION7_TEMPLATES.HINT_TEXTO_COMPLETO"
          [rows]="4"
          [value]="textoIndiceDesempleo.value() || obtenerTextoIndiceDesempleo()"
          (valueChange)="textoIndiceDesempleo.update($event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <div class="form-group" style="margin-bottom: 15px;">
          <label class="label">{{ SECCION7_TEMPLATES.LABEL_TITULO_TABLA_PEA_OCUPADA }}</label>
          <input 
            type="text" 
            class="form-control"
            [ngModel]="cuadroTituloPEAOcupada.value()"
            (ngModelChange)="cuadroTituloPEAOcupada.update($event)"
            [placeholder]="SECCION7_TEMPLATES.PLACEHOLDER_TITULO_PEA_OCUPADA">
        </div>

        <label class="label">Tabla PEA Ocupada - Editable</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="peaOcupadaConfig"
          [columns]="columnasTableaPEAOcupada"
          [sectionId]="seccionId"
          [tablaKey]="'peaOcupadaTabla' + obtenerPrefijo()"
          [showAddButton]="false"
          [showDeleteButton]="false"
          (tableUpdated)="onTablaPEAOcupadaActualizada()">
        </app-dynamic-table>

        <div class="form-group" style="margin-top: 15px;">
          <label class="label">{{ SECCION7_TEMPLATES.LABEL_FUENTE_TABLA_PEA_OCUPADA }}</label>
          <input 
            type="text" 
            class="form-control"
            [ngModel]="cuadroFuentePEAOcupada.value()"
            (ngModelChange)="cuadroFuentePEAOcupada.update($event)"
            [placeholder]="SECCION7_TEMPLATES.PLACEHOLDER_FUENTE_PEA_OCUPADA">
        </div>
      </div>
    </div>

    <!-- Análisis de Ocupación -->
    <div class="form-field" style="margin-top: 30px;">
      <label class="label">{{ SECCION7_TEMPLATES.LABEL_ANALISIS_OCUPACION_TEXTO }}</label>
      
      <app-paragraph-editor
        [fieldId]="'textoAnalisisOcupacion' + obtenerPrefijoGrupo()"
        [label]="SECCION7_TEMPLATES.LABEL_ANALISIS_OCUPACION_TEXTO"
        [hint]="SECCION7_TEMPLATES.HINT_TEXTO_COMPLETO"
        [rows]="4"
        [value]="textoAnalisisOcupacion.value() || obtenerTextoAnalisisOcupacion()"
        (valueChange)="textoAnalisisOcupacion.update($event)">
      </app-paragraph-editor>
    </div>

    <!-- Fotografías -->
    <div class="form-field" style="margin-top: 30px;">
      <label class="label">{{ SECCION7_TEMPLATES.LABEL_FOTOGRAFIAS }}</label>
      <app-image-upload
        [fotografias]="fotografiasFormMulti"
        [sectionId]="seccionId"
        [photoPrefix]="PHOTO_PREFIX + obtenerPrefijoGrupo()"
        [permitirMultiples]="true"
        [labelTitulo]="SECCION7_TEMPLATES.PLACEHOLDER_FOTO_TITULO"
        [labelFuente]="SECCION7_TEMPLATES.PLACEHOLDER_FOTO_FUENTE"
        labelImagen="Fotografía - Imagen"
        [placeholderTitulo]="SECCION7_TEMPLATES.PLACEHOLDER_FOTO_TITULO"
        [placeholderFuente]="SECCION7_TEMPLATES.PLACEHOLDER_FOTO_FUENTE"
        [tituloDefault]="SECCION7_TEMPLATES.FOTO_TITULO_DEFAULT"
        [fuenteDefault]="SECCION7_TEMPLATES.FOTO_FUENTE_DEFAULT"
        [requerido]="false"
        (fotografiasChange)="onFotografiasChange($event)">
      </app-image-upload>
    </div>
  </div>
</div>
