<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">{{ SECCION8_TEMPLATES.TITULO_FORM }}</h4>
    
    <div class="form-group-section" style="margin-top: 20px;">
      <h5>{{ SECCION8_TEMPLATES.seccionEditarParrafos }}</h5>
      
      <app-paragraph-editor
        fieldId="textoActividadesEconomicas"
        [label]="SECCION8_TEMPLATES.labelActividadesEconomicas"
        [hint]="SECCION8_TEMPLATES.hintTextoCompleto"
        [rows]="3"
        [value]="textoActividadesEconomicas.value()"
        (valueChange)="textoActividadesEconomicas.update($event)">
      </app-paragraph-editor>

      <app-paragraph-editor
        fieldId="textoFuentesActividadesEconomicas"
        [label]="SECCION8_TEMPLATES.labelFuentesActividadesEconomicas"
        [hint]="SECCION8_TEMPLATES.hintIntroduccionFuentes"
        [rows]="2"
        [value]="textoFuentesActividadesEconomicas.value()"
        (valueChange)="textoFuentesActividadesEconomicas.update($event)"
        style="margin-top: 15px;">
      </app-paragraph-editor>
    </div>

    <div class="form-field" style="margin-top: 30px;">
      <div class="form-group" style="margin-bottom: 15px;">
        <label class="label">{{ SECCION8_TEMPLATES.labelTituloPEA }}</label>
        <input 
          type="text" 
          class="form-control"
          [ngModel]="cuadroTituloPEA.value()"
          (ngModelChange)="cuadroTituloPEA.update($event)"
          [placeholder]="SECCION8_TEMPLATES.placeholderTituloPEA">
      </div>
      
      <label class="label">{{ SECCION8_TEMPLATES.labelTablaPEA }}</label>
      <app-dynamic-table
        [datos]="datos"
        [config]="peaOcupacionesConfig"
        [columns]="peaOcupacionesColumns"
        [sectionId]="seccionId"
        [tablaKey]="'peaOcupacionesTabla' + obtenerPrefijo()"
        [showAddButton]="true"
        [showDeleteButton]="true"
        (tableUpdated)="onPEATableUpdated($event)">
      </app-dynamic-table>

      <div class="form-group" style="margin-top: 15px;">
        <label class="label">{{ SECCION8_TEMPLATES.labelFuentePEA }}</label>
        <input 
          type="text" 
          class="form-control"
          [ngModel]="cuadroFuentePEA.value()"
          (ngModelChange)="cuadroFuentePEA.update($event)"
          [placeholder]="SECCION8_TEMPLATES.placeholderFuentePEA">
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 20px;">
      <h5>{{ SECCION8_TEMPLATES.seccionAnalisis }}</h5>
      
      <app-paragraph-editor
        fieldId="textoAnalisisCuadro310"
        [label]="SECCION8_TEMPLATES.labelAnalisisCuadro310"
        [hint]="SECCION8_TEMPLATES.hintTextoCompleto"
        [rows]="3"
        [value]="textoAnalisisCuadro310.value()"
        (valueChange)="textoAnalisisCuadro310.update($event)">
      </app-paragraph-editor>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION8_TEMPLATES.subseccionGanaderia }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h5>{{ SECCION8_TEMPLATES.seccionEditarParrafos }}</h5>
        
        <app-paragraph-editor
          fieldId="parrafoSeccion8_ganaderia_completo"
          [label]="SECCION8_TEMPLATES.labelGanaderiaCompleto"
          [hint]="SECCION8_TEMPLATES.hintParrafoGanaderia"
          [rows]="8"
          [value]="parrafoSeccion8_ganaderia_completo.value()"
          (valueChange)="parrafoSeccion8_ganaderia_completo.update($event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <div class="form-group" style="margin-bottom: 15px;">
          <label class="label">{{ SECCION8_TEMPLATES.labelTituloPoblacionPecuaria }}</label>
          <input 
            type="text" 
            class="form-control"
            [ngModel]="cuadroTituloPoblacionPecuaria.value()"
            (ngModelChange)="cuadroTituloPoblacionPecuaria.update($event)"
            [placeholder]="SECCION8_TEMPLATES.placeholderTituloPoblacionPecuaria">
        </div>
        
        <label class="label">{{ SECCION8_TEMPLATES.labelTablaPoblacionPecuaria }}</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="poblacionPecuariaConfig"
          [columns]="poblacionPecuariaColumns"
          [sectionId]="seccionId"
          [tablaKey]="'poblacionPecuariaTabla' + obtenerPrefijo()"
          [showAddButton]="true"
          [showDeleteButton]="true"
          (tableUpdated)="onPoblacionPecuariaTableUpdated($event)">
        </app-dynamic-table>

        <div class="form-group" style="margin-top: 15px;">
          <label class="label">{{ SECCION8_TEMPLATES.labelFuentePoblacionPecuaria }}</label>
          <input 
            type="text" 
            class="form-control"
            [ngModel]="cuadroFuentePoblacionPecuaria.value()"
            (ngModelChange)="cuadroFuentePoblacionPecuaria.update($event)"
            [placeholder]="SECCION8_TEMPLATES.placeholderFuentePoblacionPecuaria">
        </div>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">{{ SECCION8_TEMPLATES.labelFotografiasGanaderia }}</label>
        <app-image-upload
          [fotografias]="fotografiasGanaderiaFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX_GANADERIA + obtenerPrefijo()"
          [permitirMultiples]="true"
          [labelTitulo]="SECCION8_TEMPLATES.labelFotoTitulo"
          [labelFuente]="SECCION8_TEMPLATES.labelFotoFuente"
          [labelImagen]="SECCION8_TEMPLATES.labelFotoImagen"
          placeholderTitulo="Ej: Ganadería en la CC Ayroca"
          placeholderFuente="Ej: GEADES, 2024"
          tituloDefault="Ganadería"
          fuenteDefault="GEADES, 2024"
          [requerido]="false"
          (fotografiasChange)="onFotografiasGanaderiaChange($event)">
        </app-image-upload>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION8_TEMPLATES.subseccionAgricultura }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h5>{{ SECCION8_TEMPLATES.seccionEditarParrafos }}</h5>
        
        <app-paragraph-editor
          fieldId="parrafoSeccion8_agricultura_completo"
          [label]="SECCION8_TEMPLATES.labelAgriculturaCompleto"
          [hint]="SECCION8_TEMPLATES.hintParrafoAgricultura"
          [rows]="6"
          [value]="parrafoSeccion8_agricultura_completo.value()"
          (valueChange)="parrafoSeccion8_agricultura_completo.update($event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <div class="form-group" style="margin-bottom: 15px;">
          <label class="label">{{ SECCION8_TEMPLATES.labelTituloCaracteristicasAgricultura }}</label>
          <input 
            type="text" 
            class="form-control"
            [ngModel]="cuadroTituloCaracteristicasAgricultura.value()"
            (ngModelChange)="cuadroTituloCaracteristicasAgricultura.update($event)"
            [placeholder]="SECCION8_TEMPLATES.placeholderTituloCaracteristicasAgricultura">
        </div>
        
        <label class="label">{{ SECCION8_TEMPLATES.labelTablaCaracteristicasAgricultura }}</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="caracteristicasAgriculturaConfig"
          [columns]="caracteristicasAgriculturaColumns"
          [sectionId]="seccionId"
          [tablaKey]="'caracteristicasAgriculturaTabla' + obtenerPrefijo()"
          [showAddButton]="true"
          [showDeleteButton]="true"
          (tableUpdated)="onCaracteristicasAgriculturaTableUpdated($event)">
        </app-dynamic-table>

        <div class="form-group" style="margin-top: 15px;">
          <label class="label">{{ SECCION8_TEMPLATES.labelFuenteCaracteristicasAgricultura }}</label>
          <input 
            type="text" 
            class="form-control"
            [ngModel]="cuadroFuenteCaracteristicasAgricultura.value()"
            (ngModelChange)="cuadroFuenteCaracteristicasAgricultura.update($event)"
            [placeholder]="SECCION8_TEMPLATES.placeholderFuenteCaracteristicasAgricultura">
        </div>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">{{ SECCION8_TEMPLATES.labelFotografiasAgricultura }}</label>
        <app-image-upload
          [fotografias]="fotografiasAgriculturaFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX_AGRICULTURA + obtenerPrefijo()"
          [permitirMultiples]="true"
          [labelTitulo]="SECCION8_TEMPLATES.labelFotoTitulo"
          [labelFuente]="SECCION8_TEMPLATES.labelFotoFuente"
          [labelImagen]="SECCION8_TEMPLATES.labelFotoImagen"
          placeholderTitulo="Ej: Agricultura en la CC Ayroca"
          placeholderFuente="Ej: GEADES, 2024"
          tituloDefault="Agricultura"
          fuenteDefault="GEADES, 2024"
          [requerido]="false"
          (fotografiasChange)="onFotografiasAgriculturaChange($event)">
        </app-image-upload>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION8_TEMPLATES.subseccionMercadoComercializacion }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h5>{{ SECCION8_TEMPLATES.seccionEditarParrafos }}</h5>
        
        <app-paragraph-editor
          fieldId="textoMercadoComercializacion1"
          [label]="SECCION8_TEMPLATES.labelMercadoComercializacion1"
          [hint]="SECCION8_TEMPLATES.hintTextoCompleto"
          [rows]="3"
          [value]="textoMercadoComercializacion1.value()"
          (valueChange)="textoMercadoComercializacion1.update($event)">
        </app-paragraph-editor>
        
        <app-paragraph-editor
          fieldId="textoMercadoComercializacion2"
          [label]="SECCION8_TEMPLATES.labelMercadoComercializacion2"
          [hint]="SECCION8_TEMPLATES.hintTextoCompleto"
          [rows]="3"
          [value]="textoMercadoComercializacion2.value()"
          (valueChange)="textoMercadoComercializacion2.update($event)"
          style="margin-top: 15px;">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">{{ SECCION8_TEMPLATES.labelFotografiasComercio }}</label>
        <app-image-upload
          [fotografias]="fotografiasComercioFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX_COMERCIO + obtenerPrefijo()"
          [permitirMultiples]="true"
          [labelTitulo]="SECCION8_TEMPLATES.labelFotoTitulo"
          [labelFuente]="SECCION8_TEMPLATES.labelFotoFuente"
          [labelImagen]="SECCION8_TEMPLATES.labelFotoImagen"
          placeholderTitulo="Ej: Comercio en la CC Ayroca"
          placeholderFuente="Ej: GEADES, 2024"
          tituloDefault="Comercio"
          fuenteDefault="GEADES, 2024"
          [requerido]="false"
          (fotografiasChange)="onFotografiasComercioChange($event)">
        </app-image-upload>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">{{ SECCION8_TEMPLATES.subseccionHabitosConsumo }}</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h5>{{ SECCION8_TEMPLATES.seccionEditarParrafos }}</h5>
        
        <app-paragraph-editor
          fieldId="textoHabitosConsumo1"
          [label]="SECCION8_TEMPLATES.labelHabitosConsumo1"
          [hint]="SECCION8_TEMPLATES.hintTextoCompleto"
          [rows]="3"
          [value]="textoHabitosConsumo1.value()"
          (valueChange)="textoHabitosConsumo1.update($event)">
        </app-paragraph-editor>
        
        <app-paragraph-editor
          fieldId="textoHabitosConsumo2"
          [label]="SECCION8_TEMPLATES.labelHabitosConsumo2"
          [hint]="SECCION8_TEMPLATES.hintTextoCompleto"
          [rows]="4"
          [value]="textoHabitosConsumo2.value()"
          (valueChange)="textoHabitosConsumo2.update($event)"
          style="margin-top: 15px;">
        </app-paragraph-editor>
      </div>
    </div>
  </div>
</div>

<style>
  .table-editor {
    margin: 15px 0;
  }
</style>
