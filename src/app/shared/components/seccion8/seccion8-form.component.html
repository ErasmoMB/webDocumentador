<div class="seccion-formulario-content">
  <div class="form-group-section">
    <h4 class="section-title">A.1.4. Actividades económicas de la población</h4>
    
    <div class="form-group-section" style="margin-top: 20px;">
      <h5>Editar Párrafos</h5>
      
      <app-paragraph-editor
        fieldId="textoActividadesEconomicas"
        label="Actividades Económicas - Texto Completo"
        hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
        [rows]="3"
        [value]="obtenerTextoActividadesEconomicas()"
        (valueChange)="onFieldChange('textoActividadesEconomicas', $event)">
      </app-paragraph-editor>

      <app-paragraph-editor
        fieldId="textoFuentesActividadesEconomicas"
        label="Fuentes Oficiales de Actividades Económicas"
        hint="Párrafo introductorio sobre fuentes oficiales. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
        [rows]="2"
        [value]="obtenerTextoFuentesActividadesEconomicas()"
        (valueChange)="onFieldChange('textoFuentesActividadesEconomicas', $event)"
        style="margin-top: 15px;">
      </app-paragraph-editor>
    </div>

    <div class="form-field" style="margin-top: 30px;">
      <div class="form-group" style="margin-bottom: 15px;">
        <label class="label">Título de la Tabla</label>
        <input 
          type="text" 
          class="form-control"
          [(ngModel)]="datos['cuadroTituloPEA']"
          (ngModelChange)="onFieldChange('cuadroTituloPEA', $event)"
          placeholder="Ej: PEA Ocupada según ocupaciones principales">
      </div>
      
      <label class="label">Tabla PEA Ocupada según ocupaciones principales</label>
      <app-dynamic-table
        [datos]="datos"
        [config]="peaOcupacionesConfig"
        [columns]="tableCfg.getColumnasPEAOcupaciones()"
        [sectionId]="seccionId"
        [tablaKey]="'peaOcupacionesTabla'"
        [showAddButton]="true"
        [showDeleteButton]="true"
        (tableUpdated)="onPEATableUpdated($event)">
      </app-dynamic-table>

      <div class="form-group" style="margin-top: 15px;">
        <label class="label">Fuente de la Tabla</label>
        <input 
          type="text" 
          class="form-control"
          [(ngModel)]="datos['cuadroFuentePEA']"
          (ngModelChange)="onFieldChange('cuadroFuentePEA', $event)"
          placeholder="Ej: Plataforma Nacional de Datos Georreferenciados – Geo Perú">
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 20px;">
      <h5>Análisis</h5>
      
      <app-paragraph-editor
        fieldId="textoAnalisisCuadro310"
        label="Análisis Cuadro 3.10 - Texto Completo"
        hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
        [rows]="3"
        [value]="obtenerTextoAnalisisCuadro310()"
        (valueChange)="onFieldChange('textoAnalisisCuadro310', $event)">
      </app-paragraph-editor>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">a. Ganadería</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h5>Editar Párrafos</h5>
        
        <app-paragraph-editor
          fieldId="parrafoSeccion8_ganaderia_completo"
          label="Ganadería - Texto Completo"
          hint="Edite todo el bloque de texto sobre ganadería. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="8"
          [value]="obtenerTextoSeccion8GanaderiaCompleto()"
          (valueChange)="onFieldChange('parrafoSeccion8_ganaderia_completo', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <div class="form-group" style="margin-bottom: 15px;">
          <label class="label">Título de la Tabla</label>
          <input 
            type="text" 
            class="form-control"
            [(ngModel)]="datos['cuadroTituloPoblacionPecuaria']"
            (ngModelChange)="onFieldChange('cuadroTituloPoblacionPecuaria', $event)"
            placeholder="Ej: Población Pecuaria">
        </div>
        
        <label class="label">Tabla Población Pecuaria</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="poblacionPecuariaConfig"
          [columns]="tableCfg.getColumnasPoblacionPecuaria()"
          [sectionId]="seccionId"
          [tablaKey]="'poblacionPecuariaTabla'"
          [showAddButton]="true"
          [showDeleteButton]="true"
          (tableUpdated)="onPoblacionPecuariaTableUpdated($event)">
        </app-dynamic-table>

        <div class="form-group" style="margin-top: 15px;">
          <label class="label">Fuente de la Tabla</label>
          <input 
            type="text" 
            class="form-control"
            [(ngModel)]="datos['cuadroFuentePoblacionPecuaria']"
            (ngModelChange)="onFieldChange('cuadroFuentePoblacionPecuaria', $event)"
            placeholder="Ej: GEADES, 2024">
        </div>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Fotografías de Ganadería</label>
        <app-image-upload
          [fotografias]="fotografiasGanaderiaFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX_GANADERIA"
          [permitirMultiples]="true"
          labelTitulo="Título de la fotografía"
          labelFuente="Fuente de la fotografía"
          labelImagen="Fotografía - Imagen"
          placeholderTitulo="Ej: Ganadería en la CC Ayroca"
          placeholderFuente="Ej: GEADES, 2024"
          tituloDefault="Ganadería"
          fuenteDefault="GEADES, 2024"
          [requerido]="false"
          (fotografiasChange)="onFotografiasGanaderiaChange($event)">
        </app-image-upload>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">b. Agricultura</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h5>Editar Párrafos</h5>
        
        <app-paragraph-editor
          fieldId="parrafoSeccion8_agricultura_completo"
          label="Agricultura - Texto Completo"
          hint="Edite todo el bloque de texto sobre agricultura. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="6"
          [value]="obtenerTextoSeccion8AgriculturaCompleto()"
          (valueChange)="onFieldChange('parrafoSeccion8_agricultura_completo', $event)">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <div class="form-group" style="margin-bottom: 15px;">
          <label class="label">Título de la Tabla</label>
          <input 
            type="text" 
            class="form-control"
            [(ngModel)]="datos['cuadroTituloCaracteristicasAgricultura']"
            (ngModelChange)="onFieldChange('cuadroTituloCaracteristicasAgricultura', $event)"
            placeholder="Ej: Características de la Agricultura">
        </div>
        
        <label class="label">Tabla Características de la Agricultura</label>
        <app-dynamic-table
          [datos]="datos"
          [config]="caracteristicasAgriculturaConfig"
          [columns]="tableCfg.getColumnasCaracteristicasAgricultura()"
          [sectionId]="seccionId"
          [tablaKey]="'caracteristicasAgriculturaTabla'"
          [showAddButton]="true"
          [showDeleteButton]="true"
          (tableUpdated)="onCaracteristicasAgriculturaTableUpdated($event)">
        </app-dynamic-table>

        <div class="form-group" style="margin-top: 15px;">
          <label class="label">Fuente de la Tabla</label>
          <input 
            type="text" 
            class="form-control"
            [(ngModel)]="datos['cuadroFuenteCaracteristicasAgricultura']"
            (ngModelChange)="onFieldChange('cuadroFuenteCaracteristicasAgricultura', $event)"
            placeholder="Ej: GEADES, 2024">
        </div>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Fotografías de Agricultura</label>
        <app-image-upload
          [fotografias]="fotografiasAgriculturaFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX_AGRICULTURA"
          [permitirMultiples]="true"
          labelTitulo="Título de la fotografía"
          labelFuente="Fuente de la fotografía"
          labelImagen="Fotografía - Imagen"
          placeholderTitulo="Ej: Agricultura en la CC Ayroca"
          placeholderFuente="Ej: GEADES, 2024"
          tituloDefault="Agricultura"
          fuenteDefault="GEADES, 2024"
          [requerido]="false"
          (fotografiasChange)="onFotografiasAgriculturaChange($event)">
        </app-image-upload>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">c. Mercado y comercialización de productos</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h5>Editar Párrafos</h5>
        
        <app-paragraph-editor
          fieldId="textoMercadoComercializacion1"
          label="Mercado y Comercialización - Párrafo 1"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="3"
          [value]="obtenerTextoMercadoComercializacion1()"
          (valueChange)="onFieldChange('textoMercadoComercializacion1', $event)">
        </app-paragraph-editor>
        
        <app-paragraph-editor
          fieldId="textoMercadoComercializacion2"
          label="Mercado y Comercialización - Párrafo 2"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="3"
          [value]="obtenerTextoMercadoComercializacion2()"
          (valueChange)="onFieldChange('textoMercadoComercializacion2', $event)"
          style="margin-top: 15px;">
        </app-paragraph-editor>
      </div>

      <div class="form-field" style="margin-top: 20px;">
        <label class="label">Fotografías de Comercio</label>
        <app-image-upload
          [fotografias]="fotografiasComercioFormMulti"
          [sectionId]="seccionId"
          [photoPrefix]="PHOTO_PREFIX_COMERCIO"
          [permitirMultiples]="true"
          labelTitulo="Título de la fotografía"
          labelFuente="Fuente de la fotografía"
          labelImagen="Fotografía - Imagen"
          placeholderTitulo="Ej: Comercio en la CC Ayroca"
          placeholderFuente="Ej: GEADES, 2024"
          tituloDefault="Comercio"
          fuenteDefault="GEADES, 2024"
          [requerido]="false"
          (fotografiasChange)="onFotografiasComercioChange($event)">
        </app-image-upload>
      </div>
    </div>

    <div class="form-group-section" style="margin-top: 30px;">
      <h4 class="section-title">d. Hábitos de consumo</h4>
      
      <div class="form-group-section" style="margin-top: 15px;">
        <h5>Editar Párrafos</h5>
        
        <app-paragraph-editor
          fieldId="textoHabitosConsumo1"
          label="Hábitos de Consumo - Párrafo 1"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="3"
          [value]="obtenerTextoHabitosConsumo1()"
          (valueChange)="onFieldChange('textoHabitosConsumo1', $event)">
        </app-paragraph-editor>
        
        <app-paragraph-editor
          fieldId="textoHabitosConsumo2"
          label="Hábitos de Consumo - Párrafo 2"
          hint="Edite el texto completo. Use Enter para crear nuevos párrafos. Deje vacío para usar el texto por defecto."
          [rows]="4"
          [value]="obtenerTextoHabitosConsumo2()"
          (valueChange)="onFieldChange('textoHabitosConsumo2', $event)"
          style="margin-top: 15px;">
        </app-paragraph-editor>
      </div>
    </div>
  </div>
</div>

<style>
  .table-editor {
    margin: 15px 0;
  }
</style>
