<h5>{{ SECCION9_TEMPLATES.seccionViviendas }}</h5>
<p class="text-justify">{{ textoViviendasSignal() }}</p>

<app-table-wrapper [title]="tituloCondicionOcupacionSignal()" [sectionId]="seccionId">
  <table class="table-container">
    <thead>
      <tr>
        <th class="table-header">{{ SECCION9_TEMPLATES.columnasCondicionOcupacion.categoria }}</th>
        <th class="table-header">{{ SECCION9_TEMPLATES.columnasCondicionOcupacion.casos }}</th>
        <th class="table-header">{{ SECCION9_TEMPLATES.columnasCondicionOcupacion.porcentaje }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of getCondicionOcupacionData()">
        <td class="table-cell">
          <span [appDataSource]="'backend'">{{ item.categoria }}</span>
        </td>
        <td class="table-cell">
          <span [appDataSource]="'backend'">{{ item.casos }}</span>
        </td>
        <td class="table-cell">
          <span [appDataSource]="'backend'">{{ item.porcentaje }}</span>
        </td>
      </tr>
      <tr *ngIf="!getCondicionOcupacionData() || getCondicionOcupacionData().length === 0">
        <td class="table-cell">____</td>
        <td class="table-cell">____</td>
        <td class="table-cell">____</td>
      </tr>
    </tbody>
  </table>
</app-table-wrapper>
<p class="source">{{ SECCION9_TEMPLATES.labelFuente }}: {{ fuenteCondicionOcupacionSignal() }}</p>

<p style="margin-top: 20px; margin-bottom: 10px;"><strong>{{ SECCION9_TEMPLATES.seccionEstructura }}</strong></p>
<div class="text-justify">{{ textoEstructuraSignal() }}</div>

<app-table-wrapper [title]="tituloTiposMaterialesSignal()" [sectionId]="seccionId">
  <table class="table-container">
    <thead>
      <tr>
        <th class="table-header">{{ SECCION9_TEMPLATES.columnasTiposMateriales.categoria }}</th>
        <th class="table-header">{{ SECCION9_TEMPLATES.columnasTiposMateriales.tipoMaterial }}</th>
        <th class="table-header">{{ SECCION9_TEMPLATES.columnasTiposMateriales.casos }}</th>
        <th class="table-header">{{ SECCION9_TEMPLATES.columnasTiposMateriales.porcentaje }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of tiposMaterialesSignal(); let i = index" [class]="getRowClassesTiposMateriales(item)">
        <td *ngIf="shouldShowCategoriaCellTiposMateriales(i)"
            class="table-cell" 
            [attr.rowspan]="getRowspanTiposMateriales(i)"
            [class.categoria-agrupada]="isFirstRowOfGroup(i)">
          <span [appDataSource]="'backend'">{{ item.categoria }}</span>
        </td>
        <td class="table-cell">
          <span [appDataSource]="'backend'">{{ item.tipoMaterial }}</span>
        </td>
        <td class="table-cell">
          <span [appDataSource]="'backend'">{{ item.casos }}</span>
        </td>
        <td class="table-cell">
          <span [appDataSource]="'backend'">{{ item.porcentaje }}</span>
        </td>
      </tr>
      <tr *ngIf="tiposMaterialesSignal().length === 0">
        <td class="table-cell">____</td>
        <td class="table-cell">____</td>
        <td class="table-cell">____</td>
        <td class="table-cell">____</td>
      </tr>
    </tbody>
  </table>
</app-table-wrapper>
<p class="source">{{ SECCION9_TEMPLATES.labelFuente }}: {{ fuenteTiposMaterialesSignal() }}</p>

<app-image-upload
    [modoVista]="true"
    [permitirMultiples]="true"
    [fotografias]="getFotografiasVista()"
    [sectionId]="seccionId"
    [photoPrefix]="PHOTO_PREFIX"
    [labelTitulo]="SECCION9_TEMPLATES.labelFotoTitulo"
    [labelFuente]="SECCION9_TEMPLATES.labelFotoFuente"
    [labelImagen]="SECCION9_TEMPLATES.labelFotoImagen">
</app-image-upload>
